(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(8048)}])},9634:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(3393);let o={id:"experience",icon:"⭐",name:"EXPERIENCE"},l={id:"gold",icon:"\uD83D\uDCB0",name:"GOLD"},a={id:"fire",icon:"\uD83D\uDD25",name:"FIRE"},s={id:"water",icon:"\uD83C\uDF0A",name:"WATER"},n={id:"earth",icon:"\uD83C\uDF31",name:"EARTH"},d={id:"air",icon:"\uD83C\uDF2A",name:"AIR"},c={id:"soul",icon:"\uD83C\uDF0C",name:"SOUL"};e.exports={experience:o,gold:l,elements:[a,s,n,d],currencies:[o,l,a,s,n,d],fire:a,water:s,earth:n,air:d,soul:c,allCurrencies:[o,l,a,s,n,d,c],startCurrencies:[o,l],currencyById:e=>{switch(e){case a.id:return a;case s.id:return s;case n.id:return n;case d.id:return d;case o.id:return o;case l.id:return l}}}},3933:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let o=r(3393),l=r(9512),a=r(9634),colorByMissionReward=e=>{switch(e){case a.fire.id:return"#b90d0a";case a.water.id:return"#3c73a8";case a.earth.id:return"#32612d";case a.air.id:return"#7f7d9c";case a.gold.id:return"#bba14f";case a.experience.id:return"#6064dc";default:return"#dddddd"}},s={id:"atk",icon:"⚔️",name:"ATK"},n={id:"def",icon:"\uD83D\uDEE1️",name:"DEF"};function randomIntFromInterval(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function format_cost(e){var t="";for(let r of e)""!=t&&(t+=" "),t=t+" - "+-r.value+" "+r.type.icon;return""==t?"Free":t}function format_reward(e,t,r){return function(){let o=this.state.boostLedger.get(""+r)?this.state.boostLedger.get(""+r)+1:1,l=t.map(e=>({...e,quantity_min:o*e.quantity_min,quantity_max:o*e.quantity_max}));for(let t=0;t<a.elements.length;t++){let r=a.elements[t].id,o=this.state.boostLedger.get(r)?this.state.boostLedger.get(r)+1:1;e[r]&&o>1&&(l=l.map(e=>({...e,quantity_min:o*e.quantity_min,quantity_max:o*e.quantity_max})))}var s="";for(let e of l)""!=s&&(s+=" + "),1!==e.odd&&(s=s+100*e.odd+"% "),s=e.quantity_min!=e.quantity_max?s+Number(Number(e.quantity_min).toFixed(2))+"-"+Number(Number(e.quantity_max).toFixed(2))+" "+e.type.icon:s+Number(Number(e.quantity_min).toFixed(2))+" "+e.type.icon;return s}}function mission(e,t,r,s,n){let d={};return r.forEach(e=>d[e.type.id]=e.value),{id:n,cost_types:r.map(e=>e.type.id),reward_types:s.map(e=>e.type.id),text:e,level:t,cost:format_cost(r),reward:format_reward(d,s,n),start:function(){let e=this.state.boostLedger.get(""+n)?this.state.boostLedger.get(""+n)+1:1,t=s.map(t=>({...t,quantity_min:e*t.quantity_min,quantity_max:e*t.quantity_max}));for(let e=0;e<a.elements.length;e++){let r=a.elements[e].id,o=this.state.boostLedger.get(r)?this.state.boostLedger.get(r)+1:1;d[r]&&o>1&&(t=t.map(e=>({...e,quantity_min:o*e.quantity_min,quantity_max:o*e.quantity_max})))}var r=(0,l.buy)({cost:()=>(0,o.Map)(d)},this.state.wallet);return!!(0,l.inTheBlack)(r)&&(t.forEach(e=>{if(Math.random()>1-e.odd){let t=e.quantity_min;e.quantity_min!==e.quantity_max&&(t=randomIntFromInterval(e.quantity_min,e.quantity_max)),r=(0,l.add)(r,(0,o.Map)({[e.type.id]:t}))}}),this.setState({wallet:r}),!0)}}}function stat_mission(e,t,r,s,n){let d={};return r.forEach(e=>d[e.type.id]=e.value),{id:n,cost_types:r.map(e=>e.type.id),reward_types:s.map(e=>e.type.id),text:e,level:t,cost:format_cost(r),reward:format_reward(d,s,n),start:function(){let e=this.state.boostLedger.get(""+n)?this.state.boostLedger.get(""+n)+1:1,t=s.map(t=>({...t,quantity_min:e*t.quantity_min,quantity_max:e*t.quantity_max}));for(let e=0;e<a.elements.length;e++){let r=a.elements[e].id,o=this.state.boostLedger.get(r)?this.state.boostLedger.get(r)+1:1;d[r]&&o>1&&(t=t.map(e=>({...e,quantity_min:o*e.quantity_min,quantity_max:o*e.quantity_max})))}var r=(0,l.buy)({cost:()=>(0,o.Map)(d)},this.state.wallet);if(!(0,l.inTheBlack)(r))return!1;let c=this.state.missionStats;return t.forEach(e=>{if(Math.random()>1-e.odd){let t=randomIntFromInterval(e.quantity_min,e.quantity_max);c=(0,l.add)(this.state.missionStats,(0,o.Map)({[e.type.id]:t}))}}),this.setState({wallet:r,missionStats:c}),!0}}}var d={id:0,cost_types:[a.experience.id,a.fire.id,a.water.id,a.earth.id,a.air.id],reward_types:[a.experience.id,a.fire.id,a.water.id,a.earth.id,a.air.id],text:"Outdoor excursion",cost:format_cost([]),level:1,reward:()=>"1 "+a.experience.icon+" + 50% one of "+a.fire.icon+" "+a.water.icon+" "+a.earth.icon+" "+a.air.icon,start:function(){var e=this.state.wallet;if(Math.random()>.5){var t=a.elements[Math.floor(Math.random()*a.elements.length)];e=(0,l.add)(this.state.wallet,(0,o.Map)({[t.id]:1}))}return e=(0,l.add)(e,(0,o.Map)({[a.experience.id]:1})),this.setState({wallet:e}),!0}};function level_3_reward(e){return[{type:a.experience,odd:1,quantity_min:10,quantity_max:20},{type:a.gold,odd:1,quantity_min:10,quantity_max:20},{type:e,odd:.4,quantity_min:1,quantity_max:1}]}function level_8_reward(e){return[{type:a.experience,odd:1,quantity_min:15,quantity_max:25},{type:a.gold,odd:1,quantity_min:15,quantity_max:25},{type:e,odd:.6,quantity_min:1,quantity_max:1}]}let c=[d,mission("Play with matches",3,[{type:a.fire,value:-1}],level_3_reward(a.fire),1),mission("Take a shower",3,[{type:a.water,value:-1}],level_3_reward(a.water),2),mission("Touch grass",3,[{type:a.earth,value:-1}],level_3_reward(a.earth),3),mission("Guided breathing session",3,[{type:a.air,value:-1}],level_3_reward(a.air),4),mission("Boiling water for tea time",8,[{type:a.fire,value:-1}],level_8_reward(a.water),5),mission("Manufacture obsidian",8,[{type:a.fire,value:-1}],level_8_reward(a.earth),6),mission("Learn smoke communication",8,[{type:a.fire,value:-1}],level_8_reward(a.air),7),mission("Make a water lens",8,[{type:a.water,value:-1}],level_8_reward(a.fire),8),mission("Water the plants",8,[{type:a.water,value:-1}],level_8_reward(a.earth),9),mission("Enjoy a sauna session",8,[{type:a.water,value:-1}],level_8_reward(a.air),10),mission("Gather flint and steel",8,[{type:a.earth,value:-1}],level_8_reward(a.fire),11),mission("Build a well",8,[{type:a.earth,value:-1}],level_8_reward(a.water),12),mission("Clean the dust",8,[{type:a.earth,value:-1}],level_8_reward(a.air),13),mission("Use a blower fan",8,[{type:a.air,value:-1}],level_8_reward(a.fire),14),mission("Collect condensation",8,[{type:a.air,value:-1}],level_8_reward(a.water),15),mission("Create a dust devil",8,[{type:a.air,value:-1}],level_8_reward(a.earth),16),mission("Manufacture fireworks",15,[{type:a.fire,value:-3}],[{type:a.gold,odd:1,quantity_min:75,quantity_max:100}],17),mission("Take Swimming lessons",15,[{type:a.water,value:-3}],[{type:a.experience,odd:1,quantity_min:75,quantity_max:100}],18),mission("Search for minerals",15,[{type:a.earth,value:-3}],[{type:a.gold,odd:1,quantity_min:75,quantity_max:100}],19),mission("QiGong Breathing",15,[{type:a.air,value:-3}],[{type:a.experience,odd:1,quantity_min:75,quantity_max:100}],20),mission("Inner Fire Breathing",25,[{type:a.fire,value:-5},{type:a.air,value:-1}],[{type:a.experience,odd:1,quantity_min:170,quantity_max:230}],21),mission("Escort Merchant Ship",25,[{type:a.water,value:-5}],[{type:a.gold,odd:1,quantity_min:170,quantity_max:230}],22),mission("Sand Golem Summoning",25,[{type:a.earth,value:-5},{type:a.water,value:-1}],[{type:a.experience,odd:1,quantity_min:170,quantity_max:230}],23),mission("Improve local windmill production",25,[{type:a.air,value:-5}],[{type:a.gold,odd:1,quantity_min:170,quantity_max:230}],24),stat_mission("Cultivate Internal Energy",35,[{type:a.fire,value:-15},{type:a.water,value:-5},{type:a.air,value:-15}],[{type:s,odd:1,quantity_min:.1,quantity_max:.1}],25),stat_mission("Bone strengthening",35,[{type:a.water,value:-15},{type:a.earth,value:-15},{type:a.air,value:-5}],[{type:n,odd:1,quantity_min:.1,quantity_max:.1}],26),stat_mission("Process Spiritual Pills",35,[{type:a.fire,value:-15},{type:a.water,value:-5},{type:a.earth,value:-15}],[{type:{id:"hp",icon:"❤️",name:"HP"},odd:1,quantity_min:.1,quantity_max:.1}],27),stat_mission("Elemental Assault Training",55,[{type:a.fire,value:-150},{type:a.water,value:-150},{type:a.earth,value:-150},{type:a.air,value:-150}],[{type:s,odd:1,quantity_min:.5,quantity_max:.5}],28),stat_mission("Four Elements Fortress Drill",55,[{type:a.fire,value:-150},{type:a.water,value:-150},{type:a.earth,value:-150},{type:a.air,value:-150}],[{type:n,odd:1,quantity_min:.5,quantity_max:.5}],29),stat_mission("Practice Elemental Recovery",55,[{type:a.fire,value:-150},{type:a.water,value:-150},{type:a.earth,value:-150},{type:a.air,value:-150}],[{type:{id:"regen",icon:"\uD83D\uDC96",name:"REG"},odd:1,quantity_min:.1,quantity_max:.1}],30)];e.exports={missions:c,missionsByLevel:e=>c.filter(t=>e>=t.level),colorByMission:e=>(console.log("GERE"),e.level>=35?"#dddddd":colorByMissionReward(e.cost_types[0]))}},8048:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return pages}});var o,l,a=r(5893),s=r(7294),n=r(3393),d=r(9512),c=r(3933),h=r(9634);function get_level_info(e){return function next_level(e,t,r){let o=e<25?1.3:e<40?1.1:1.2;return(3==e&&(t=Number(t)+23),Number(r)>=Number(t))?next_level(e+1,Number(t*o).toFixed(0),Number(r-t).toFixed(0)):{level:e,next_level_exp:Number(t).toFixed(0),current_exp:Number(r).toFixed(0)}}(1,5,e||0)}var u=r(5697),m=r.n(u);let g=(0,a.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"spinner",className:"reactive-btn-loading-svg reactive-spin",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:(0,a.jsx)("path",{fill:"currentColor",d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"})}),f=(0,a.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check",className:"reactive-btn-success-svg",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:(0,a.jsx)("path",{fill:"currentColor",d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"})}),p=(0,a.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"times",className:"reactive-btn-error-svg",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 352 512",children:(0,a.jsx)("path",{fill:"currentColor",d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"})}),ReactiveButton=e=>{var t;let r=e.color?e.color:"primary",o=e.idleText?e.idleText:"Click Me",[l,n]=(0,s.useState)(!1),[d,c]=(0,s.useState)(e.loadDuration-1);!function(e,t){let r=(0,s.useRef)();(0,s.useEffect)(()=>{r.current=e},[e]),(0,s.useEffect)(()=>{if(null!==t){let e=setInterval(function(){r.current()},t);return()=>clearInterval(e)}},[t])}(()=>{d>0?c(d-1):n(!1)},"loading"==e.buttonState?1e3:null);let h=e.successText&&""!==e.successText?e.successText:"Success",u=e.errorText&&""!==e.errorText?e.errorText:"Error",m=e.type?e.type:"button",y="reactive-btn".concat(e.className?" "+e.className:""),x=!!e.outline,b=!!e.shadow,v=e.style?e.style:{},j=!!e.rounded,w=e.size?e.size:"normal",S=void 0===e.animation||!1!==e.animation,[k,B]=(0,s.useState)(e.buttonState?e.buttonState:"idle");(0,s.useEffect)(()=>{void 0!==e.buttonState&&(B(e.buttonState),"loading"===e.buttonState&&c(e.loadDuration-1),("success"===e.buttonState||"error"===e.buttonState)&&setTimeout(()=>{B("idle")},e.messageDuration?e.messageDuration:2e3))},[e.buttonState,e.messageDuration]);let F={transform:"translateX(0%)",transition:"transform ".concat(null!==(t=e.loadDuration)&&void 0!==t?t:3,"s cubic-bezier(0.59, 0.01, 0.41, 0.99)")};return(0,a.jsx)(s.Fragment,{children:(0,a.jsx)("span",{className:"reactive-btn-wrapper ".concat(w).concat(e.block?" block":""),style:{width:e.width,height:e.height},children:(0,a.jsxs)("button",{ref:void 0!==e.buttonRef?e.buttonRef:null,disabled:"idle"!==k||e.disabled,"data-button-state":k,type:m,className:"".concat(y," ").concat(r).concat(x?" outline":"").concat(S?"":" no-animation").concat(j?" rounded":"").concat(b?" shadow":"").concat(e.disabled?" disabled":""),onClick:()=>{n(!0),void 0!==e.onClick&&e.onClick()},style:v,children:[(0,a.jsx)("span",{className:"progress",style:"idle"!==k?F:{}}),(0,a.jsx)("span",{className:"content",children:(0,a.jsx)(s.Fragment,{children:"idle"===k?o:"loading"===k?(0,a.jsxs)(s.Fragment,{children:[g," ",d>9?"00:".concat(d):"00:0".concat(d)]}):"success"===k?"Success"===h?(0,a.jsxs)(s.Fragment,{children:[f," ",h]}):h:"error"===k?"Error"===u?(0,a.jsxs)(s.Fragment,{children:[p," ",u]}):u:void 0})})]})})})};ReactiveButton.propTypes={color:m().string,idleText:m().oneOfType([m().string,m().node]),loadingText:m().oneOfType([m().string,m().node]),successText:m().oneOfType([m().string,m().node]),errorText:m().oneOfType([m().string,m().node]),type:m().string,className:m().string,outline:m().bool,shadow:m().bool,style:m().oneOfType([m().object,m().array]),rounded:m().bool,size:m().string,animation:m().bool,buttonState:m().string,onClick:m().func,messageDuration:m().number,loadDuration:m().number,block:m().bool,width:m().string,height:m().string,buttonRef:m().oneOfType([m().func,m().shape({current:m().any})]),disabled:m().bool};var y=r(9755),x=r(6841),b=s.memo(function(e){let[t,r]=(0,s.useState)(-1),[o,l]=(0,s.useState)(null),onClickHandler=(e,t)=>{r(e),clearInterval(o);var a=setInterval(()=>{r(-1),t()||(e=-1,clearInterval(a)),setTimeout(()=>r(e),250)},3e3);l(a)},lockedP=e=>(0,a.jsxs)("p",{style:{padding:"10px",color:"white",background:"#494949",fontWeight:"bold"},children:[" \uD83D\uDD12 Reach level ",e," to unlock \uD83D\uDD12"]}),n=(0,s.useMemo)(()=>e.level>=55?null:e.level>=50&&e.level<55?lockedP(55):e.level>=30&&e.level<35?lockedP(35):e.level>=20&&e.level<25?lockedP(25):e.level>=10&&e.level<15?lockedP(15):e.level>=3&&e.level<8?lockedP(8):e.level<3?lockedP(3):null,[e.level]),d=h.elements.map(r=>(0,a.jsx)(x.Z,{eventKey:r.id,title:r.icon,children:(0,a.jsx)("table",{style:{width:"-webkit-fill-available",height:"384px",overflowY:"auto",display:"block",background:"#181818"},children:(0,a.jsxs)("tbody",{style:{display:"table",width:"100%"},children:[e.missions.filter(t=>t.cost_types.includes(r.id)&&e.level>=t.level).map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{style:{padding:"10px"},children:(0,a.jsx)(ReactiveButton,{style:{width:"180px",fontWeight:"bold"},height:"55px",buttonState:t===e.text?"loading":"idle",onClick:t=>onClickHandler(e.text,e.start),idleText:e.text,loadDuration:3})}),(0,a.jsx)("td",{style:{color:0!==e.id?"red":"green",padding:"10px"},children:e.cost}),(0,a.jsx)("td",{style:{color:"green"},children:e.reward()})]},e.text)),(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:3,children:n})},"locked")]})})},r.id));return(0,a.jsxs)(y.Z,{defaultActiveKey:h.experience.id,className:"mb-3",children:[(0,a.jsx)(x.Z,{eventKey:h.experience.id,title:h.experience.icon,children:(0,a.jsx)("table",{style:{width:"-webkit-fill-available",height:"384px",overflowY:"auto",display:"block",background:"#181818"},children:(0,a.jsxs)("tbody",{style:{display:"table",width:"100%"},children:[e.missions.filter(t=>e.level>=t.level).map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{colSpan:1,style:{padding:"10px"},children:(0,a.jsx)(ReactiveButton,{style:{width:"180px",fontWeight:"bold"},height:"55px",buttonState:t===e.text?"loading":"idle",onClick:t=>onClickHandler(e.text,e.start),idleText:e.text,loadDuration:3})}),(0,a.jsx)("td",{colSpan:1,style:{color:0!==e.id?"red":"green",padding:"10px"},children:e.cost}),(0,a.jsx)("td",{colSpan:1,style:{color:"green"},children:e.reward()})]},e.text)),(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:3,children:n})},"locked")]})})}),d]})}),v=r(5774),j=r(4368),w=r(5005);function ConfirmModal(e){let[t,r]=(0,s.useState)(!0),handleClose=()=>{r(!1),e.onClose()};return(0,a.jsx)(j.Z,{dialogClassName:"box-modal",show:t,onHide:handleClose,children:(0,a.jsxs)("div",{style:{backgroundColor:"#333333",color:"white",fontWeight:"bold"},children:[(0,a.jsx)(j.Z.Header,{children:(0,a.jsx)(j.Z.Title,{style:{fontWeight:"bold"},children:e.title})}),(0,a.jsx)(j.Z.Body,{children:e.children}),(0,a.jsx)(j.Z.Footer,{children:(0,a.jsx)(w.Z,{style:{color:"white",fontWeight:"bold",backgroundColor:"#494949",borderColor:"#494949"},onClick:handleClose,children:"Ok"})})]})})}var S=r(4762),k=r(8984),B=r(6600),F=r(1479),N=r(2312);let C=r(7022),M={id:"woodB",name:"Wooden box",type:"artifact",rarity:1,src:"/wooden.png",odds:{1:70,2:25,3:4,4:1}},R={id:"steelB",name:"Steel box",type:"artifact",rarity:2,src:"/steel.png",odds:{1:50,2:40,3:9,4:1}},E={id:"goldB",name:"Golden box",type:"artifact",rarity:3,src:"/golden.png",odds:{1:0,2:70,3:24,4:6}},I={id:"sapphireB",name:"Sapphire box",type:"relic",rarity:3,src:"/sapphire.png",odds:{1:0,2:70,3:24,4:6}},A={id:"platinumB",name:"Platinum box",type:"artifact",rarity:4,src:"/platinum.png",odds:{1:0,2:0,3:90,4:10}},T={id:"diamondB",name:"Diamond box",type:"relic",rarity:4,src:"/diamond.png",odds:{1:0,2:0,3:90,4:10}},W=[M,R,E,I,A,T],BoxBackground=e=>{let{children:t,box:r}=e;return(0,a.jsx)("div",{"data-tip":!0,"data-for":r.id,style:{position:"relative",top:2,bottom:0,right:0,left:0,flexDirection:"column",zIndex:1,height:"105px"},children:t})},Background=e=>{let{children:t,item:r}=e;return(0,a.jsx)("div",{"data-tip":!0,"data-for":r.id,style:{position:"relative",top:2,bottom:0,right:0,left:0,flexDirection:"column",zIndex:1,height:"105px"},children:t})},TypeMessage=e=>{let{isRelic:t,rarity:r}=e;return(0,a.jsx)("div",{children:(0,a.jsxs)("p",{style:{color:t?"#DB9D00":"#e5e5e5"},children:[rarityName(r)," ",t?"Relic":"Artifact"]})})},Box=e=>{var{box:t,quantity:r}=e;return(0,a.jsxs)("td",{onClick:()=>e.openModal(t),children:[(0,a.jsx)(BoxBackground,{box:t,children:(0,a.jsxs)("div",{style:{width:100,height:100,position:"relative",height:"100px",backgroundImage:"url(".concat(C.basePath+t.src,")"),textAlign:"center"},children:[(0,a.jsx)("img",{alt:t.rarity,src:C.basePath+"/"+t.rarity+".png",width:100,height:100}),(0,a.jsx)("div",{style:{position:"absolute",paddingLeft:"3px",bottom:"3px",right:"3px",color:"white",backgroundColor:"black",userSelect:"none"},children:r})]})}),(0,a.jsx)(BoxToolTip,{...e})]})},BoxToolTip=e=>{var{box:t,quantity:r}=e;return(0,a.jsxs)(S.Z,{id:t.id,place:"top",type:"dark",effect:"solid",children:[(0,a.jsx)("h3",{style:{color:colorByRarity(t.rarity)},children:t.name}),(0,a.jsx)("div",{children:r&&(0,a.jsx)("p",{style:{color:"white"},children:"Click to open"})}),(0,a.jsx)("div",{children:r&&(0,a.jsxs)("p",{style:{color:"white"},children:["Quantity: ",r]})}),Object.keys(t.odds).map(e=>(0,a.jsxs)("p",{style:{color:colorByRarity(Number(e)),fontWeight:"bold"},children:[t.odds[e],"% of ",rarityName(Number(e))," ",t.type===ee?"artifact":"relic"]},e))]})},BoxModal=e=>{var{box:t,quantity:r,level:o,openBox:l,aBStatsMult:d}=e;let[u,m]=(0,s.useState)([]),[g,f]=(0,s.useState)(1),onClickHandler=e=>{let r=t.type===ee?generate_artifact:generate_relic;var a=Array.from({length:e},(e,l)=>({...r(o,{aBStatsMult:d},gen_rarity_odds(t.odds)),cost:()=>(0,n.Map)({[t.id]:-1})}));l(a,!0),m(a)},p=u.length>0?Math.ceil(u.length/25):1,changeSkip=e=>{e>=0&&e<=p&&f(e)};return p<g&&f(p),(0,a.jsxs)(ConfirmModal,{title:"Open "+t.name,onClose:e.closeModal,children:[(0,a.jsxs)("div",{children:[r>=1&&(0,a.jsx)(w.Z,{style:{color:"white",fontWeight:"bold",backgroundColor:"#494949",borderColor:"#494949"},onClick:()=>onClickHandler(1),children:"Open 1"}),r>=10&&(0,a.jsx)(w.Z,{style:{color:"white",fontWeight:"bold",backgroundColor:"#494949",borderColor:"#494949",marginLeft:"10px"},onClick:()=>onClickHandler(10),children:"Open 10"}),r>1&&(0,a.jsx)(w.Z,{style:{color:"white",fontWeight:"bold",backgroundColor:"#494949",borderColor:"#494949",marginLeft:"10px"},onClick:()=>onClickHandler(r),children:"Open all "+r})]}),(0,a.jsx)("br",{}),(0,a.jsxs)("div",{children:[(0,a.jsx)("table",{style:{width:"100%",height:"250px",overflowY:"auto",display:"block"},children:(0,a.jsx)("tbody",{children:(function(e,t){var r,o,l=[];for(r=0,o=-1;r<e.length;r++)r%5==0&&(l[++o]=[]),l[o].push(e[r]);return l})(u,0).splice((g-1)*5,5).map(e=>(0,a.jsx)("tr",{children:e.map(e=>(0,a.jsxs)("td",{children:[(0,a.jsx)(Item,{item:e}),(0,a.jsxs)(S.Z,{id:e.id,place:"top",type:"dark",effect:"solid",children:[(0,a.jsx)("h3",{style:{color:colorByRarity(e.rarity)},children:e.name}),(0,a.jsx)(TypeMessage,{isRelic:e.type===et,rarity:e.rarity}),h.currencies.map(t=>0!=e.effect().get(t.id)&&e.effect().get(t.id)&&(0,a.jsxs)("p",{style:{color:"green"},children:[Number(e.effect().get(t.id)||0).toFixed(3)," ",t.icon," /s"]},t.id)),e.effect().get("mission")&&Object.entries(e.effect().get("mission")).map(e=>{let[t,r]=e;return h.elements.some(e=>e.id==t)?(0,a.jsxs)("p",{style:{color:colorByRarity(4)},children:[Number(100*r).toFixed(0),"% boost for ",(0,a.jsxs)("span",{style:{color:colorByReward(t)},children:[(0,h.currencyById)(t).icon," actions"]})]},t):(0,a.jsxs)("p",{style:{color:colorByRarity(3)},children:[Number(100*r).toFixed(0),"% boost for ",(0,a.jsx)("span",{style:{color:(0,c.colorByMission)(c.missions[t])},children:c.missions[t].text})]},t)}),e.effect().get("artifactBonus")&&Object.entries(e.effect().get("artifactBonus")).map(e=>{let[t,r]=e;return h.currencies.some(e=>e.id==t)?(0,a.jsxs)("p",{style:{color:colorByRarity(4)},children:[Number(100*r).toFixed(0),"% boost for ",(0,a.jsxs)("span",{style:{color:colorByReward(t)},children:[(0,h.currencyById)(t).icon," artifacts"]})]},t):h.soul.id==t?(0,a.jsxs)("p",{style:{color:colorByRarity(4)},children:[Number(100*r).toFixed(0),"% boost for ",h.soul.icon," on reincarnation"]},t):null}),e.effect().get("statBonus")&&Object.entries(e.effect().get("statBonus")).map(e=>{let[t,r]=e;return V.some(e=>e.id==t)?(0,a.jsxs)("p",{style:{color:colorByRarity(4)},children:[Number(100*r).toFixed(0),"% boost for ",(0,a.jsx)("span",{style:{color:colorByReward(t)},children:statById(t).icon})]},t):null}),V.map(t=>void 0!==e.statEffect&&0!=e.statEffect.get(t.id)&&e.statEffect.get(t.id)&&(0,a.jsxs)("p",{style:{color:"white"},children:[Number(Number(e.statEffect.get(t.id)||0).toFixed(1))," ",t.icon]},t.id))]})]},e.id))}))})}),Math.ceil(p)>=2&&(0,a.jsxs)("div",{className:"d-flex flex-row",children:[(0,a.jsx)("div",{className:"p-2",children:(0,a.jsx)(w.Z,{style:{color:"white",fontWeight:"bold",backgroundColor:"#494949",borderColor:"#494949"},onClick:()=>changeSkip(g-1),children:"<<"})}),(0,a.jsx)("div",{className:"p-2 flex-grow-1 bd-highlight col-example",children:(0,a.jsxs)("p",{style:{color:"white",fontWeight:"bold",textAlign:"center"},children:["Page ",g," of ",p]})}),(0,a.jsx)("div",{className:"p-2",children:(0,a.jsx)(w.Z,{style:{color:"white",fontWeight:"bold",backgroundColor:"#494949",borderColor:"#494949"},onClick:()=>changeSkip(g+1),children:">>"})})]})]})]})},Item=e=>{var{item:t}=e;return(0,a.jsx)(Background,{item:t,children:(0,a.jsx)("div",{style:{width:100,height:100,position:"relative",height:"100px",backgroundImage:"url(".concat(C.basePath+t.src,")")},children:(0,a.jsx)("div",{style:{width:100,height:100},children:(0,a.jsx)("img",{src:C.basePath+"/"+t.rarity+".png",width:100,height:100})})})})},L=["adorable","adventurous","aggressive","agreeable","alert","alive","amused","angry","annoyed","annoying","anxious","arrogant","ashamed","attractive","average","awful","bad","beautiful","better","bewildered","black","bloody","blue","blue-eyed","blushing","bored","brainy","brave","breakable","bright","busy","calm","careful","cautious","charming","cheerful","clean","clear","clever","cloudy","clumsy","colorful","combative","comfortable","concerned","condemned","confused","cooperative","courageous","crazy","creepy","crowded","cruel","curious","cute","dangerous","dark","dead","defeated","defiant","delightful","depressed","determined","different","difficult","disgusted","distinct","disturbed","dizzy","doubtful","drab","dull","eager","easy","elated","elegant","embarrassed","enchanting","encouraging","energetic","enthusiastic","envious","evil","excited","expensive","exuberant","fair","faithful","famous","fancy","fantastic","fierce","filthy","fine","foolish","fragile","frail","frantic","friendly","frightened","funny","gentle","gifted","glamorous","gleaming","glorious","good","gorgeous","graceful","grieving","grotesque","grumpy","handsome","happy","healthy","helpful","helpless","hilarious","homeless","homely","horrible","hungry","hurt","ill","important","impossible","inexpensive","innocent","inquisitive","itchy","jealous","jittery","jolly","joyous","kind","lazy","light","lively","lonely","long","lovely","lucky","magnificent","misty","modern","motionless","muddy","mushy","mysterious","nasty","naughty","nervous","nice","nutty","obedient","obnoxious","odd","old-fashioned","open","outrageous","outstanding","panicky","perfect","plain","pleasant","poised","poor","powerful","precious","prickly","proud","putrid","puzzled","quaint","real","red","relieved","repulsive","rich","scary","selfish","shiny","shy","silly","sleepy","smiling","smoggy","sore","sparkling","splendid","spotless","stormy","strange","stupid","successful","super","talented","tame","tasty","tender","tense","terrible","thankful","thoughtful","thoughtless","tired","tough","troubled","ugliest","ugly","uninterested","unsightly","unusual","upset","uptight","vast","victorious","vivacious","wandering","weary","wicked","wide-eyed","wild","witty","worried","worrisome","wrong","zany","zealous"],_=["ancient","battle-worn","beautiful","bloody","broken","curved","damascus","deadly","dull","enchanted","epic","fearsome","flaming","forged","gleaming","jagged","legendary","mighty","razor-sharp","rusty","sharp","shiny","sleek","steel","strong","swift","terrible","vicious"],D=["King","Queen","Bishop","Knight","Rook","Pawn","Aardvark","Alligator","Alpaca","Anaconda","Ant","Anteater","Antelope","Aphid","Armadillo","Asp","Baboon","Badger","Bald Eagle","Barracuda","Bass","Basset Hound","Bat","Bearded Dragon","Beaver","Bedbug","Bee","Bee-eater","Bird","Bison","Black panther","Black Widow Spider","Blue Jay","Blue Whale","Bobcat","Buffalo","Butterfly","Buzzard","Camel","Canada Lynx","Carp","Cat","Caterpillar","Catfish","Cheetah","Chicken","Chimpanzee","Chipmunk","Cobra","Cod","Condor","Cougar","Cow","Coyote","Crab","Crane Fly","Cricket","Crocodile","Crow","Cuckoo","Deer","Dinosaur","Dog","Dolphin","Donkey","Dove","Dragonfly","Duck","Eagle","Eel","Elephant","Emu","Falcon","Ferret","Finch","Fish","Flamingo","Flea","Fly","Fox","Frog","Goat","Goose","Gopher","Gorilla","Guinea Pig","Hamster","Hare","Hawk","Hippopotamus","Horse","Hummingbird","Humpback Whale","Husky","Iguana","Impala","Kangaroo","Lemur","Leopard","Lion","Lizard","Llama","Lobster","Margay","Monitor lizard","Monkey","Moose","Mosquito","Moth","Mountain Zebra","Mouse","Mule","Octopus","Orca","Ostrich","Otter","Owl","Ox","Oyster","Panda","Parrot","Peacock","Pelican","Penguin","Perch","Pheasant","Pig","Pigeon","Polar bear","Porcupine","Quagga","Rabbit","Raccoon","Rat","Rattlesnake","Red Wolf","Rooster","Seal","Sheep","Skunk","Sloth","Snail","Snake","Spider","Tiger","Whale","Wolf","Wombat","Zebra","Private","Corporal","Specialist","Sergeant","Chief","Lieutenant","Major","Captain","Colonel","General","Snowman","Alien","Banshee","Basilisk","Beelzebub","Bigfoot","Body Snatcher","Boogeyman","Centaur","Chimera","Chupacabra","The Critters","The Crypt Keeper","Cyclops","Devil","Demon","Dracula","Dragons","Drakon","Frankenstein","Freddy Kruger","Gargoyle","Ghosts","Ghoul","Gnome","Goblin","Gremlin","Grover","Headless Horseman","Horseman","Hobgoblin","Hornswagger","Hunchback","Hydra","Incubus","Kraken","Leatherface","Leprechaun","Leviathan","Malificient","Martian","Medusa","Minotaur","Mummy","Night Wump","Ogopogo","Phoenix","Pinhead","Poltergeist","Pumpkinhead","Sandworm","Sasquatch","Skeleton","Siren","Snozzwangler","Succubus","Swamp Thing","Tar Man","Troll","Typhon","Vampires","Voldemort","Werewolf","Wolfman","Yeti","Zombie","Ninja","Samurai","Bandit","Ice Troll","Beast","Orc","Undead","Pirate","Kobold","Murloc","Reaper","Dragon","Creature","Guard","Cyborg","Slime","Genie","Soldier","Henchman","Assassin","Cultist"],P=["Sword","Spear","Dagger","Mace","Axe","Bow","Crossbow","Wand","Staff","Shield","Brandistock","Qiang","Scimitar","Halberd","Flail","Maul","Glaive","Whip","Sickle","Jagged Blade","Spiked Mace","Dual Blades","War Hammer","Longbow","Crossbow","Sling","Boomerang","Nunchaku","Battle Axe","Claymore","Katana","Rapier","Dirk","Nagamaki","Kama","Harpoon","Sarissa","War Scythe","Machete","Cleaver","Pike","Trident","Katars","Daggers","Sabre","Cudgel","Bastard Sword","Great Sword","Long Sword","Short Sword","Two Handed Sword","Shiv","Sickle Sword","Bolas","Bulawa","Chakram","Choke","Dusack","Fauchard","Flail Mace","Glaive-guisarme","Hammer","Hand Flail","Katar","Khopesh","Kukri","Mancatcher","Morning Star","Partisan","Pole Axe","Quarterstaff","Sai","Sling Staff","Spetum","Trident Spear","War Scythe","War Club","Composite Bow","Blowgun","Harpoon Gun","Bo Staff","Tessen","Nine-section Whip","Knuckle Dusters","Brass Knuckles","Brass Knuckles Knife","Shivaji","Javelin","Tomahawk","Shuriken","Kusari-gama","Net","Caltrop","War Fan","Shield Sword","Fencing Foil","War Pick","Battle Flail","Battle Hammer","Lance","Morningstar Flail","War Sickle","War Trident","War Spear","War Halberd","War Glaive","War Axe","War Machete","War Cleaver","War Club","War Fan With Blades"],q=["Leather Helm","Chainmail Helm","Plate Helm","Cloth Robe","Leather Armor","Chainmail Armor","Plate Armor","Ring of Protection","Ring of Strength","Ring of Dexterity","Ring of Intelligence","Ring of Wisdom","Ring of Charisma","Ring of Speed","Ring of Invisibility","Ring of Regeneration","Ring of Levitation","Ring of Flight","Ring of Fire Resistance","Ring of Cold Resistance","Ring of Poison Resistance","Ring of Magic Resistance","Ring of True Sight","Ring of Water Walking","Ring of Teleportation","Ring of Time Control","Amulet of Life","Amulet of Health","Amulet of Magic","Amulet of Spell Resistance","Amulet of Telekinesis","Necklace of Ice Shards","Necklace of Lightning Bolts","Necklace of Poison","Earrings of Invisibility","Earrings of Night Vision","Earrings of Water Breathing","Earrings of Feather Falling","Earrings of Levitation","Earrings of Magic Detection","Earrings of Magic Disruption","Earrings of Magic Negation","Earrings of Magic Resistance","Earrings of Magic Absorption","Essence Generator","Essence Amplifier","Essence Converter","Essence Ring","Essence Amulet","Essence Pendant","Essence Earring","Essence Necklace"],Z={fire:["Fireblade","Blazing Sword","Flaming Mace","Inferno Staff","Pyromancer's Wand","Firestorm Bow","Emberstorm Shuriken","Flame Whip","Blaze Daggers","Fire Elemental Staff","Firestorm Greatsword","Volcanic Axe","Meteor Hammer","Inferno Scimitar","Blazing Sickle","Pyromancer's Boomerang","Flametongue","Firebrand","Flamecaller","Firestarter","Firestormbringer","Blazefury","Flamewalker","Inferno's Touch","Pyromancer's Fury","Firestorm's Bane","Emberstorm's Edge","Flame's Bite","Blaze's Fury","Fire Elemental's Wrath","Firestorm's Fury","Volcanic's Fury","Meteor's Fury","Inferno's Fury","Blazing Fury","Pyromancer's Fury"],water:["Frostblade","Tidal Mace","Aqua Staff","Hydromancer's Wand","Blizzard Bow","Tsunami Shuriken","Frost Whip","Water Daggers","Water Elemental Staff","Blizzard Greatsword","Tidal Axe","Frost Meteor Hammer","Hydromancer's Scimitar","Aqua Sickle","Tsunami Boomerang","Frostbite","Frostshanker","Frostbringer","Froststorm","Frostblade","Frostmourne","Frostbite","Frostcaller","Froststarter","Froststormbringer","Frostfury","Frostwalker","Hydromancer's Touch","Blizzard's Bane","Tidal's Edge","Water Elemental's Wrath","Blizzard's Fury","Tidal's Fury","Frost Meteor's Fury","Hydromancer's Fury","Aqua Fury","Tsunami's Fury"],earth:["Earthen Mace","Granite Sword","Terra Staff","Geomancer's Wand","Earthshatter Bow","Sandstorm Shuriken","Earth Whip","Earthen Daggers","Earth Elemental Staff","Earthshatter Greatsword","Granite Axe","Terra Meteor Hammer","Geomancer's Scimitar","Earthen Sickle","Sandstorm Boomerang","Stoneshanker","Earthbringer","Earthstarter","Earthstormbringer","Earthfury","Earthwalker","Geomancer's Touch","Sandstorm's Bane","Granite's Edge","Earth Elemental's Wrath","Earthshatter's Fury","Granite's Fury","Terra Meteor's Fury","Geomancer's Fury","Earthen Fury","Sandstorm's Fury"],wind:["Galeblade","Storm Mace","Aeromancer's Staff","Sky Staff","Tempest Bow","Thunderstorm Shuriken","Wind Whip","Aero Daggers","Wind Elemental Staff","Thunderstorm Greatsword","Gale Axe","Sky Meteor Hammer","Aeromancer's Scimitar","Storm Sickle","Tempest Boomerang","Skyblade","Skycaller","Skystarter","Skystormbringer","Skyfury","Skywalker","Aeromancer's Touch","Tempest's Bane","Gale's Edge","Wind Elemental's Wrath","Thunderstorm's Fury","Gale's Fury","Sky Meteor's Fury","Aeromancer's Fury","Storm Fury","Tempest Fury"],firewater:["Blizzardfire Sword","Frostfire Mace","Inferno Staff of Ice","Pyromancer's Frost Wand","Firestorm Blizzard Bow","Emberstorm Tsunami Shuriken","Flame Frost Whip","Blaze Water Daggers","Fire & Water Elemental Staff","Firestorm Tidal Greatsword","Volcanic Frost Axe","Meteor Blizzard Hammer","Inferno Tidal Scimitar","Blazing Aqua Sickle","Pyromancer's Tsunami Boomerang","Flametongue of Ice","Firebrand of Frost","Flamecaller of Water","Firestarter of Blizzard","Firestormbringer of Tidal","Blazefury of Aqua","Flamewalker of Tsunami","Inferno's Touch of Frost","Pyromancer's Fury of Water","Firestorm's Bane of Blizzard","Emberstorm's Edge of Tidal","Flame's Bite of Aqua","Blaze's Fury of Tsunami","Fire & Water Elemental's Wrath","Firestorm's Fury of Tidal","Volcanic's Fury of Frost","Meteor's Fury of Blizzard","Inferno's Fury of Water","Blazing Fury of Aqua","Pyromancer's Fury of Tsunami"],firewind:["Galefire Sword","Stormfire Mace","Aeromancer's Inferno Staff","Sky Inferno Staff","Tempest Fire Bow","Thunderstorm Emberstorm Shuriken","Wind Flame Whip","Aero Blaze Daggers","Fire & Wind Elemental Staff","Thunderstorm Firestorm Greatsword","Gale Volcanic Axe","Sky Meteor Fire Hammer","Aeromancer's Inferno Scimitar","Storm Blazing Sickle","Tempest Pyromancer's Boomerang","Skyblade of Fire","Skycaller of Blaze","Skystarter of Inferno","Skystormbringer of Firestorm","Skyfury of Volcanic","Skywalker of Meteor","Aeromancer's Touch of Fire","Tempest's Bane of Emberstorm","Gale's Edge of Thunderstorm","Fire & Wind Elemental's Wrath","Thunderstorm's Fury of Firestorm","Gale's Fury of Volcanic","Sky Meteor's Fury of Inferno","Aeromancer's Fury of Blaze","Storm Fury of Fire","Tempest Fury of Emberstorm"],fireearth:["Earthen Fireblade","Granite Inferno Mace","Terra Pyromancer's Staff","Geomancer's Fire Wand","Earthshatter Firestorm Bow","Sandstorm Emberstorm Shuriken","Earth Flame Whip","Earthen Blaze Daggers","Fire & Earth Elemental Staff","Earthshatter Volcanic Greatsword","Granite Meteor Fire Axe","Terra Inferno Scimitar","Geomancer's Blazing Sickle","Earthen Pyromancer's Boomerang","Stoneshanker of Fire","Earthbringer of Blaze","Earthstarter of Inferno","Earthstormbringer of Firestorm","Earthfury of Volcanic","Earthwalker of Meteor","Geomancer's Touch of Fire","Sandstorm's Bane of Emberstorm","Granite's Edge of Thunderstorm","Fire & Earth Elemental's Wrath","Earthshatter's Fury of Firestorm","Granite's Fury of Volcanic","Terra Meteor's Fury of Inferno","Geomancer's Fury of Blaze","Earthen Fury of Fire","Sandstorm's Fury of Emberstorm"],waterwind:["Galeblade of Frost","Stormblade of Ice","Aeromancer's Tidal Staff","Sky Tidal Staff","Tempest Frost Bow","Thunderstorm Tsunami Shuriken","Wind Frost Whip","Aero Water Daggers","Water & Wind Elemental Staff","Thunderstorm Blizzard Greatsword","Gale Tidal Axe","Sky Frost Meteor Hammer","Aeromancer's Hydromancer's Scimitar","Storm Aqua Sickle","Tempest Tsunami Boomerang","Skyblade of Frost","Skycaller of Ice","Skystarter of Tidal","Skystormbringer of Blizzard","Skyfury of Aqua","Skywalker of Tsunami","Aeromancer's Touch of Frost","Tempest's Bane of Tidal","Gale's Edge of Aqua","Water & Wind Elemental's Wrath","Thunderstorm's Fury of Blizzard","Gale's Fury of Tidal","Sky Meteor's Fury of Frost","Aeromancer's Fury of Ice","Storm Fury of Water","Tempest Fury of Tsunami"],waterearth:["Earthen Frostblade","Granite Tidal Mace","Terra Aqua Staff","Geomancer's Hydromancer's Wand","Earthshatter Blizzard Bow","Sandstorm Tsunami Shuriken","Earth Frost Whip","Earthen Water Daggers","Water & Earth Elemental Staff","Earthshatter Tidal Greatsword","Granite Frost Axe","Terra Blizzard Hammer","Geomancer's Tidal Scimitar","Earthen Aqua Sickle","Sandstorm Tsunami Boomerang","Stoneshanker of Frost","Earthbringer of Ice","Earthstarter of Tidal","Earthstormbringer of Blizzard","Earthfury of Aqua","Earthwalker of Tsunami","Geomancer's Touch of Frost","Sandstorm's Bane of Tidal","Granite's Edge of Aqua","Water & Earth Elemental's Wrath","Earthshatter's Fury of Blizzard","Granite's Fury of Tidal","Terra Meteor's Fury of Frost","Geomancer's Fury of Ice","Earthen Fury of Water","Sandstorm's Fury of Tsunami"],earthwind:["Galeblade of Earth","Stormblade of Stone","Aeromancer's Earthen Staff","Sky Earthen Staff","Tempest Earthshatter Bow","Thunderstorm Sandstorm Shuriken","Wind Earth Whip","Aero Earthen Daggers","Earth & Wind Elemental Staff","Thunderstorm Earthshatter Greatsword","Gale Granite Axe","Sky Terra Meteor Hammer","Aeromancer's Geomancer's Scimitar","Storm Earthen Sickle","Tempest Sandstorm Boomerang","Skyblade of Earth","Skycaller of Stone","Skystarter of Earthen","Skystormbringer of Earthshatter","Skyfury of Granite","Skywalker of Terra","Aeromancer's Touch of Earth","Tempest's Bane of Sandstorm","Gale's Edge of Earthen","Earth & Wind Elemental's Wrath","Thunderstorm's Fury of Earthshatter","Gale's Fury of Granite","Sky Meteor's Fury of Terra","Aeromancer's Fury of Earth","Storm Fury of Stone","Tempest Fury of Earthen"]},G={gold:["Gold Pouch","Gold Ring","Gold Amulet","Gold Pendant","Gold Earring","Gold Necklace","Gold bracelet","Gold anklet","Gold watch","Gold cufflinks","Gold brooch","Gold tiara","Gold crown","Gold hairpin","Gold body chain","Gold body harness","Gold torque","Gold armlet","Gold bangle","Gold pocket watch","Gold locket","Gold charm bracelet","Gold medallion","Gold lapel pin","Gold tie pin","Gold money clip","Gold keychain","Gold belt buckle"],experience:["Energy Generator","Energy Amplifier","Energy Converter","Energy Ring","Energy Amulet","Energy Pendant","Energy Earring","Energy Necklace","Experience Booster","Experience Amplifier","Experience Converter","Experience Ring","Experience Amulet","Experience Pendant","Experience Earring","Experience Necklace"]},enemyNameWithoutPrefix=()=>{let e=getRandomFromArray(D),t=getRandomFromArray([()=>e,()=>getAdjective()+" "+e])();return t},enemyName=()=>{let e=getRandomFromArray(D),t=getRandomFromArray([()=>e,()=>getAdjective()+" "+e,()=>getAdjective()+" "+getAdjective()+" "+e])(),r=getRandomFromArray([()=>"The "+t,()=>O.query(t)+" "+t])();return capitalizeFirstLetter(r)},itemName=e=>{var t=[],r=[];e.mission&&t.concat(Object.keys(e.mission)),e.artifactBonus&&t.concat(Object.keys(e.artifactBonus));var o=[...new Set(t.reduce((e,r,o)=>e.concat(t.slice(o+1).map(e=>r+""+e)),[]))].concat(t).map(e=>Z[e]).filter(e=>void 0!=e&&null!=e),l=Object.keys(e).filter(t=>e[t]>0).concat(t).map(e=>void 0!=Z[e]?e:void 0).filter(e=>void 0!=e&&null!=e),a=!0;o.length&&(console.log(1),r.push(e=>getRandomFromArray(getRandomFromArray(o))),a=!1),l.length&&(console.log(2),console.log(l),r.push(e=>getRandomFromArray(Z[getRandomFromArray(l)])),r.push(e=>getRandomFromArray(l)+" "+getRandomFromArray(P)),r.push(e=>getRandomFromArray(l)+" "+getRandomFromArray(q)),r.push(e=>enemyNameWithoutPrefix()+"'s "+capitalizeFirstLetter(getRandomFromArray(l))+" "+capitalizeFirstLetter(getRandomFromArray(_))+" "+getRandomFromArray(P)),r.push(e=>enemyNameWithoutPrefix()+"'s "+capitalizeFirstLetter(getRandomFromArray(l))+" "+getRandomFromArray(P)),r.push(e=>enemyNameWithoutPrefix()+"'s "+capitalizeFirstLetter(getRandomFromArray(l))+" "+getRandomFromArray(q)),r.push(e=>"The "+enemyNameWithoutPrefix()+"'s "+capitalizeFirstLetter(getRandomFromArray(l))+" "+capitalizeFirstLetter(getRandomFromArray(_))+" "+getRandomFromArray(P)),r.push(e=>"The "+enemyNameWithoutPrefix()+"'s "+capitalizeFirstLetter(getRandomFromArray(l))+" "+getRandomFromArray(P)),r.push(e=>"The "+enemyNameWithoutPrefix()+"'s "+capitalizeFirstLetter(getRandomFromArray(l))+" "+getRandomFromArray(q)),a=!1),a&&(console.log(3),r.push(t=>getRandomFromArray(getRandomFromArray(Object.keys(e).map(e=>G[e]).filter(e=>void 0!=e&&null!=e))))),r.push(e=>enemyNameWithoutPrefix()+"'s "+capitalizeFirstLetter(getRandomFromArray(_))+" "+getRandomFromArray(P)),r.push(e=>enemyNameWithoutPrefix()+"'s "+getRandomFromArray(P)),r.push(e=>enemyNameWithoutPrefix()+"'s "+getRandomFromArray(q)),r.push(e=>"The "+enemyNameWithoutPrefix()+"'s "+capitalizeFirstLetter(getRandomFromArray(_))+" "+getRandomFromArray(P)),r.push(e=>"The "+enemyNameWithoutPrefix()+"'s "+getRandomFromArray(P)),r.push(e=>"The "+enemyNameWithoutPrefix()+"'s "+getRandomFromArray(q));let s=getRandomFromArray(r),n=s();return console.log(n),capitalizeFirstLetter(n)},getAdjective=()=>capitalizeFirstLetter(getRandomFromArray(L)),getRandomFromArray=e=>{var t=Math.floor(Math.random()*e.length);return e[t]},capitalizeFirstLetter=e=>e.charAt(0).toUpperCase()+e.slice(1);var O=(l="2h.#2.a;i;&1.N;*4.a;e;i;o;/9.a;e;h1.o.i;l1./;n1.o.o;r1.e.s1./;01.8;12.1a;01.0;12.8;9;2.31.7;4.5.6.7.8.9.8a;0a.0;1;2;3;4;5;6;7;8;9;11; .22; .–.31; .42; .–.55; .,.h.k.m.62; .k.72; .–.82; .,.92; .–.8;<2.m1.d;o;=1.=1.E;@;A6;A1;A1.S;i1;r1;o.m1;a1;r1; .n1;d1;a1;l1;u1;c1.i1.a1.n;s1;t1;u1;r1;i1;a1;s.t1;h1;l1;e1;t1;e1.s;B2.h2.a1.i1;r1;a.\xe1;o1.r1.d1. ;C3.a1.i1.s1.s.h4.a2.i1.s1;e.o1.i;l1.\xe1;r1.o1.\xed;u2.i;r1.r1.a;o1.n1.g1.j;D7.a1.o1.q;i2.n1.a1.s;o1.t;u1.a1.l1.c;\xe11. ;\xf2;\xf9;ư;E7;U1;R.b1;o1;l1;i.m1;p1;e1;z.n1;a1;m.s1;p5.a1.c;e;h;o;r;u1.l1;o.w1;i.F11. ;,;.;/;0;1;2;3;4;5;6;71.0.8;9;Ae;B.C.D.F.I2.L.R.K.L.M.N.P.Q.R.S.T.B;C1;M.D;E2.C;I;F1;r.H;I3.A1;T.R1. ;U;J;L3.C;N;P;M;O1. ;P1;..R2.A1. ;S;S;T1;S.U2.,;.;X;Y1;V.c;f1.o.h;σ;G7.e1.r1.n1.e;h1.a3.e;i;o;i1.a1.n1.g;o2.f1. ;t1.t1. ;r1.i1.a;w1.a1.r1.r;\xfa;Hs. ;&;,;.2;A.I.1;2;3;5;7;B1;P.C;D;F;G;H1;I.I6;C.G.N.P.S1.D;T.K1.9;L;M1;..N;O2. ;V;P;R1;T.S1.F.T;V;e2.i1.r;r1.r1.n;o2.n6;d.e1.s;g.k.o2;l.r1;i1.f;v.u1.r;I3;I2;*.I.n1;d1;e1;p1;e1;n1;d2;e1;n1;c1;i.\xea.s1;l1;a1;n1;d1;s.J1.i1.a1.o;Ly. ;,;.;1;2;3;4;8;A3. ;P;X;B;C;D;E2. ;D;F1;T.G;H1.D.I1.R;L;M;N;P;R;S1;m.T;U1. ;V1;C.W1.T;Z;^;a1.o1.i1.g;o1.c1.h1.a1;b.p;u1.s1.h1;o.ộ;M15. ;&;,;.1;A1;.1;S./;1;2;3;4;5;6;7;8;Ai;B.C.D.F.G.J.L.M.N.P.R.S.T.V.W.X.Y.Z.B1;S1;T.C;D;E3.P1;S.W;n;F;G;H;I4. ;5;6;T1;M.K;L;M;N;O1.U;P;Q;R;S;T1;R.U2. ;V;V;X;b1.u1.m;f;h;o2.D1.e.U1;..p1.3;s1.c;Ny. ;+;.1.E.4;7;8;:;A3.A1;F.I;S1.L;B;C;D;E3.A;H;S1. ;F1;U.G;H;I7.C.D1. ;K.L.N.O.S.K;L;M1;M.N2.R;T;P1.O1.V1./1.B;R2;J.T.S1;W.T1;L1.D.U1.S;V;W2.A;O1.H;X;Y3.C1.L;P;U;a1.s1.a1.n;t1.h;v;\xb2;\xd7;O5;N1;E.l1;v.n2;c1.e.e1.i;o1;p.u1;i.P1.h2.i1.a;o2.b2;i.o.i;Q1.i1.n1.g1.x;Rz. ;&;,;.1;J./;1;4;6;A3. ;.;F1;T.B1;R.C;D;E3. ;S1.P;U;F;G;H1.S;I2.A;C1. ;J;K;L1;P.M5;1.2.3.5.6.N;O2.H;T2;A.O.P;Q;R1;F.S4;,...?.T.T;U4;B.M.N.S.V;X;c;f1;M1...h2.A;B;\xf2;S11. ;&;,;.4.E;M;O;T1..3.B;D;M;1;3;4;5;6;8;9;A3. ;8;S2;E.I.B;C3.A1. ;R2.A.U.T;D;E6. ;5;C3;A.O.R.I1.F.O;U;F3;&.H.O1.S.G1;D.H3.2;3;L;I2. ;S1.O.K2.I.Y.L3;A2. ;.;I1. ;O.M3;A1. ;I.U1.R.N5.A.C3.A.B.C.E.F.O.O5. ;A1.I;E;S1;U.V;P7;A7;A.C.D.M.N.R.S.E1. ;I4;C.D.N.R.L1;O.O.U.Y.Q1. ;R;S1;W.T9.A1. ;C;D;F;I;L;M;S;V;U7.B.L.M.N.P.R.S.V;W1.R;X1.M;h1.i1.g1.a1.o;p1.i1.o1;n.t2.B;i1.c1.i;T4.a2.i2.g1.a.s1.c;v1.e1.s;e1.a1.m1.p;u1.i2.l;r;\xe0;Um..1.N1..1.C;/1.1;11. .21.1;L1.T;M1.N;N4.C1.L;D2. .P.K;R1. .a;b2;a.i.d;g1.l;i1.g.l2;i.y.m;no. ;a1.n.b;c;d;e1;s.f;g;h;i2.d;n;j;k;l;m;n;o;p;q;r;s;t;u;v;w;p;r3;a.e.u1.k;s3. ;h;t1;r.t4.h;n;r;t;x;z;\xed;W2.P1.:4.A1.F;I2.B;N1.H.O1.V;R1.F1.C2.N.U.i1.k1.i1.E1.l1.i;X7;a.e.h.i.o.u.y.Y3.e1.t1.h;p;s;[5.A;E;I;a;e;_2._1.i;e;`3.a;e;i;a7; .m1;a1;r1. .n1;d2; .ě.p1;r1;t.r1;t1;\xed.u1;s1;s1;i1. .v1;u1;t.d3.a1.s1. ;e2.m1. ;r1. ;i2.c1.h1. ;e1.s1.e2.m;r;e8;c1;o1;n1;o1;m1;i1;a.e1;w.l1;i1;t1;e1;i.m1;p1;e1;z.n1;t1;e1;n1;d.s2;a1. .t4;a1; .e1; .i1;m1;a1;r.r1;u1.t.u1.p1. ;w.f3. ;M;y1.i;h9. ;,;.;C;a1.u1.t1;b.e2.i1.r1;a.r1.m1.a1.n;o4.m2.a1; .m;n8; .b.d.e3; .d.y.g.i.k.v.r1.s1. ;u1.r;r1. ;t1;t1;p1;:.i6;b1;n.e1;r.n2;f2;l1;u1;\xea.o1;a.s1;t1;a1;l1;a.r1; .s1; .u.k1.u1. ;l3.c1.d;s1. ;v1.a;ma. ;,;R;b1.a.e1.i1.n;f;p;t1.a.u1.l1.t1.i1.c1.a1.m1.p1.i;\xd7;n6. ;V;W;d1; .t;\xd7;o8;c2;h1;o.u1;p.d1;d1;y.f1; .g1;g1;i.no. ;';,;/;a;b;c1.o;d;e2.i;r;f;g;i;l;m;n;o;r;s;t;u;w;y;z;–;r1;i1;g1;e.t1;r1.s;u1;i.r3. ;&;f;s9.,;?;R;f2.e.o.i1.c1.h;l1. ;p2.3;i1. ;r1.g;v3.a.e.i.t2.A;S;uc; ...b2.e;l;f.k2.a;i;m1;a1. .n3;a3; .n5.a;c;n;s;t;r1;y.e2; .i.i8.c2.o1.r1.p;u1.m;d1;i1.o;g1.n;l1.l;m1;o.n;s1.s;v1.o1;c.r5;a.e.i.l.o.s3. ;h;u1.r2;e.p3;a.e.i.t2.m;t;v.w1.a;xb. ;';,;.;8;b;k;l;m1;a.t;y1. ;y1.l;{1.a;|1.a;\xa31.8;\xc0;\xc1;\xc4;\xc5;\xc6;\xc9;\xd2;\xd3;\xd6;\xdc;\xe0;\xe1;\xe6;\xe8;\xe91;t3.a;o;u;\xed;\xf6;\xfc1; .Ā;ā;ī;İ;Ō;ō;œ;Ω;α;ε;ω;ϵ;е;–2.e;i;ℓ;",function i(e){var t,r,o=parseInt(l,36)||0,a=o&&o.toString(36).length;for(e.article="."==l[a]?"a":"an",l=l.substr(1+a),t=0;t<o;t++)r=e[l[0]]={},l=l.substr(1),i(r)}(o={}),{raw:o,query:function(e){var t,r,l=o,a=0;do r=e[a++];while("\"‘’“”$'-(".indexOf(r)>=0);for(;;){if(t=l.article||t,!(l=l[r]))return t;r=e[a++]||" "}}});let z={id:"atk",icon:"⚔️",name:"ATK"},H={id:"def",icon:"\uD83D\uDEE1️",name:"DEF"},Y={id:"hp",icon:"❤️",name:"HP"},K={id:"regen",icon:"\uD83D\uDC96",name:"REG"},V=[z,H,Y,K],statById=e=>{switch(e){case z.id:return z;case H.id:return H;case Y.id:return Y;case K.id:return K}},J=s.memo(function(e){let t=(0,d.add)(e.stats,e.artifactStats,e.relicStats,e.missionStats),r=(0,n.Map)();[t,r]=applyStatBuffs(e.skills,t);let o=(0,n.Map)();[t,o]=applyRelicStatBuffs(e.statBonusLedger,t);let current=(t,r)=>{var o,l;return t!==K.id?Number(null!==(o=e.stats.get(r+"-"+t))&&void 0!==o?o:0):Number(Number(.1*Number(null!==(l=e.stats.get(r+"-"+t))&&void 0!==l?l:0)).toFixed(1))},price=(t,r,o)=>{var l;let a=Number(null!==(l=e.stats.get(r+"-"+t))&&void 0!==l?l:0)+1;return((o-=1)+1)*(a+a+o)/2},[l,c]=(0,s.useState)({[h.fire.id]:1,[h.water.id]:1,[h.earth.id]:1,[h.air.id]:1}),colorByRewardChecked=(e,t)=>t?anotherColorByReward(e):colorByReward(e),toogleButtonStyle=(e,t)=>({backgroundColor:colorByRewardChecked(e,t),borderColor:"#333333",fontWeight:"bold",width:"100px"});return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{style:{width:"100%",height:"160px",background:"#181818",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:V.map(l=>{var s,n,d,c,u,m,g,f,p,y;return(0,a.jsxs)("div",{children:[(0,a.jsx)("table",{className:"invisibleTable",children:(0,a.jsx)("tbody",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{style:{width:"200px"},children:(0,a.jsxs)("p",{style:{color:"white",paddingLeft:"10px",fontWeight:"bold",width:"100%"},children:[Number(Number(t.get(l.id)||0).toFixed(1))," ",l.icon," ","("+l.name+")"]})}),(0,a.jsx)("td",{style:{width:"80%"},"data-tip":!0,"data-for":l.id,children:(0,a.jsxs)("p",{style:{color:"white",paddingLeft:"10px",fontWeight:"bold"},children:["( ",h.elements.map(e=>(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{style:{color:colorByReward(e.id)},children:current(l.id,e.id)})," + "]},e.id)),(0,a.jsx)("span",{style:{color:"#e5e5e5"},children:Number(Number(null!==(s=e.artifactStats.get(l.id))&&void 0!==s?s:0).toFixed(1))})," +",(0,a.jsx)("span",{style:{color:"#ED553B"},children:Number(Number(null!==(n=e.missionStats.get(l.id))&&void 0!==n?n:0).toFixed(1))})," +",(0,a.jsx)("span",{style:{color:"#987cbc"},children:Number(Number(null!==(d=r.get(l.id))&&void 0!==d?d:0).toFixed(1))})," +",(0,a.jsx)("span",{style:{color:"#DB9D00"},children:Number(Number(null!==(c=e.relicStats.get(l.id))&&void 0!==c?c:0).toFixed(1))})," +",(0,a.jsx)("span",{style:{color:"#987cbc"},children:Number(Number(null!==(u=o.get(l.id))&&void 0!==u?u:0).toFixed(1))})," )"]})})]})})}),(0,a.jsx)(S.Z,{id:l.id,place:"right",type:"dark",children:(0,a.jsxs)("div",{style:{fontWeight:"bold"},children:[h.elements.map(e=>(0,a.jsxs)("p",{style:{color:colorByReward(e.id)},children:[current(l.id,e.id)," ",l.icon," from ",e.icon," upgrades"]},e.id)),(0,a.jsxs)("p",{style:{color:"#e5e5e5"},children:[Number(Number(null!==(m=e.artifactStats.get(l.id))&&void 0!==m?m:0).toFixed(1))," ",l.icon," from Artifacts"]}),(0,a.jsxs)("p",{style:{color:"#ED553B"},children:[Number(Number(null!==(g=e.missionStats.get(l.id))&&void 0!==g?g:0).toFixed(1))," ",l.icon," from Actions"]}),(0,a.jsxs)("p",{style:{color:"#987cbc"},children:[Number(Number(null!==(f=r.get(l.id))&&void 0!==f?f:0).toFixed(1))," ",l.icon," from Boosts"]}),(0,a.jsxs)("p",{style:{color:"#DB9D00"},children:[Number(Number(null!==(p=e.relicStats.get(l.id))&&void 0!==p?p:0).toFixed(1))," ",l.icon," from Relic"]}),(0,a.jsxs)("p",{style:{color:"#987cbc"},children:[Number(Number(null!==(y=o.get(l.id))&&void 0!==y?y:0).toFixed(1))," ",l.icon," from Relic Bonus"]})]})})]},l.id)})}),(0,a.jsx)(y.Z,{style:{paddingTop:"10px"},defaultActiveKey:h.fire.id,className:"mb-3",children:h.elements.map(t=>(0,a.jsxs)(x.Z,{eventKey:t.id,title:t.icon,children:[(0,a.jsx)("div",{style:{paddingBottom:"10px",textAlign:"right"},children:(0,a.jsxs)(B.Z,{type:"radio",name:"purchase-amount"+t.id,children:[(0,a.jsx)(k.Z,{style:toogleButtonStyle(t.id,1===l[t.id]),value:1,checked:1===l,onChange:e=>c({...l,[t.id]:1}),children:"x1"}),(0,a.jsx)(k.Z,{style:toogleButtonStyle(t.id,10===l[t.id]),value:10,checked:10===l,onChange:e=>c({...l,[t.id]:10}),children:"x10"}),(0,a.jsx)(k.Z,{style:toogleButtonStyle(t.id,100===l[t.id]),value:100,checked:100===l,onChange:e=>c({...l,[t.id]:100}),children:"x100"})]})}),(0,a.jsx)("table",{style:{width:"-webkit-fill-available",height:"150px",background:"#181818"},children:(0,a.jsxs)("tbody",{children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{style:{width:"50%",textAlign:"center"},children:(0,a.jsxs)(w.Z,{style:{backgroundColor:colorByReward(t.id),borderColor:colorByReward(t.id),width:"70%",fontWeight:"bold"},onClick:()=>e.buyStat(z.id,t.id,l[t.id]),children:[l[t.id]," ",z.icon," for ",price(z.id,t.id,l[t.id])," ",t.icon]})}),(0,a.jsx)("td",{style:{width:"50%",textAlign:"center"},children:(0,a.jsxs)(w.Z,{style:{backgroundColor:colorByReward(t.id),borderColor:colorByReward(t.id),width:"70%",fontWeight:"bold"},onClick:()=>e.buyStat(H.id,t.id,l[t.id]),children:[l[t.id]," ",H.icon," for ",price(H.id,t.id,l[t.id])," ",t.icon]})})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{style:{width:"50%",textAlign:"center"},children:(0,a.jsxs)(w.Z,{style:{backgroundColor:colorByReward(t.id),borderColor:colorByReward(t.id),width:"70%",fontWeight:"bold"},onClick:()=>e.buyStat(Y.id,t.id,l[t.id]),children:[l[t.id]," ",Y.icon," for ",price(Y.id,t.id,l[t.id])," ",t.icon]})}),(0,a.jsx)("td",{style:{width:"50%",textAlign:"center"},children:(0,a.jsxs)(w.Z,{style:{backgroundColor:colorByReward(t.id),borderColor:colorByReward(t.id),width:"70%",fontWeight:"bold"},onClick:()=>e.buyStat(K.id,t.id,l[t.id]),children:[Number(.1*l[t.id]).toFixed(1)," ",K.icon," for ",price(K.id,t.id,l[t.id])," ",t.icon]})})]})]})})]},t.id))})]})}),U=s.memo(function(e){let[t,r]=(0,s.useState)([]),o=e.maxlevel<30?null:e.maxlevel<35?(0,a.jsx)(x.Z,{eventKey:"unlock35",title:"\uD83D\uDD12 Reach level 35 to unlock \uD83D\uDD12",disabled:!0}):(0,a.jsx)(x.Z,{eventKey:"Skills",title:"Skills",children:(0,a.jsx)(X,{onClickSetSkills:e.onClickSetSkills,skills:e.skills})});return(0,a.jsxs)(y.Z,{style:{marginTop:"-2px"},defaultActiveKey:"Fight",className:"mb-3",children:[(0,a.jsx)(x.Z,{eventKey:"Fight",title:"Fight",children:(0,a.jsx)(Q,{stats:e.stats,artifactStats:e.artifactStats,relicStats:e.relicStats,missionStats:e.missionStats,stage:e.stage,stageKills:e.stageKills,changeStage:e.changeStage,killEnemy:e.killEnemy,skills:e.skills,statBonusLedger:e.statBonusLedger,addEnemyLog:e=>r(t=>[...t.slice(-30),{color:"red",message:e}]),addPlayerLog:e=>r(t=>[...t.slice(-30),{color:"green",message:e}]),addInfoLog:e=>r(t=>[...t.slice(-30),{color:"#DB9D00",message:e}])})}),o,(0,a.jsx)(x.Z,{eventKey:"Logs",title:"Logs",children:(0,a.jsx)(Logs,{logs:t})})]})}),Q=s.memo(function(e){let t=(0,s.useMemo)(()=>applyRelicStatBuffs(e.statBonusLedger,applyStatBuffs(e.skills,(0,d.add)(e.stats,e.artifactStats,e.relicStats,e.missionStats))[0])[0],[e.stats,e.artifactStats,e.relicStats,e.missionStats,e.skills,e.statBonusLedger]),[r,o]=(0,s.useState)(t.get(Y.id)),[l,c]=(0,s.useState)((0,n.Map)({atk:10,def:10,hp:10,regen:1,[h.experience.id]:20,[h.gold.id]:15,element:1.5,name:enemyName()})),[u,m]=(0,s.useState)(l.get(Y.id)),[g,f]=(0,s.useState)(100),[p,y]=(0,s.useState)(100),[x,b]=(0,s.useState)(t.get(Y.id)>0),numberToFixed=(e,t)=>Number(Number(e).toFixed(t));(0,s.useEffect)(()=>{0===e.stage?(c((0,n.Map)({atk:10,def:10,hp:10,regen:1,[h.experience.id]:20,[h.gold.id]:15,element:1.5,name:enemyName()})),m(10)):(c((0,n.Map)({atk:numberToFixed(10*1.1**e.stage,1),def:numberToFixed(10*1.1**e.stage,1),hp:numberToFixed(10*1.1**e.stage,1),regen:numberToFixed(1*1.1**e.stage,1),[h.experience.id]:numberToFixed(20*1.1**e.stage,1),[h.gold.id]:numberToFixed(15*1.1**e.stage,1),element:numberToFixed(2*1.1**e.stage,1),name:enemyName()})),m(numberToFixed(10*1.1**e.stage,1)))},[e.stage]),function(e,t){let r=(0,s.useRef)();(0,s.useEffect)(()=>{r.current=e},[e]),(0,s.useEffect)(()=>{if(null!==t){let e=setInterval(function(){r.current()},t);return()=>clearInterval(e)}},[t])}(()=>{let a=numberToFixed(randomIntFromInterval(10*t.get(z.id),13*t.get(z.id))/10,1),s=numberToFixed(randomIntFromInterval(10*l.get(z.id),13*l.get(z.id))/10,1);if(x){let n;let d=numberToFixed(Math.max(0,a-l.get(H.id)),1),h=numberToFixed(Math.min(l.get(Y.id),u+l.get(K.id))-d,1);if(u<=0)e.addPlayerLog("You heal for ".concat(numberToFixed(t.get(K.id),1),".")),o(n=numberToFixed(Math.min(t.get(Y.id),r+t.get(K.id)),1)),f(100*n/t.get(Y.id)),c(l.set("name",enemyName())),m(l.get(Y.id)),y(100);else{e.addEnemyLog("Enemy ".concat(l.get("name")," heals for ").concat(l.get(K.id),".")),e.addPlayerLog("You hit Enemy ".concat(l.get("name")," for ").concat(d,"."));let a=numberToFixed(Math.max(0,s-t.get(H.id)),1);n=numberToFixed(Math.min(t.get(Y.id),r+t.get(K.id))-Math.max(0,s-t.get(H.id)),1),e.addPlayerLog("You heal for ".concat(numberToFixed(t.get(K.id),1),".")),e.addEnemyLog("Enemy ".concat(l.get("name")," hits You for ").concat(a,".")),o(n),f(100*n/numberToFixed(t.get(Y.id),1)),h<=0?(m(0),y(0),e.killEnemy(l,v),e.addInfoLog("Enemy ".concat(l.get("name")," was defeated."))):(m(h),y(100*h/l.get(Y.id)))}n<=0&&(e.addEnemyLog("You were defeated by ".concat(l.get("name"),".")),o(0),f(0),b(!1))}else{if(e.addPlayerLog("You heal for ".concat(numberToFixed(t.get(K.id),1),".")),u<=0)c(l.set("name",enemyName())),m(l.get(Y.id)),y(100);else{e.addEnemyLog("Enemy ".concat(l.get("name")," heals for ").concat(l.get(K.id),"."));let t=numberToFixed(Math.min(l.get(Y.id),u+l.get(K.id)),1);m(t),y(100*t/l.get(Y.id))}let a=numberToFixed(Math.min(t.get(Y.id),r+t.get(K.id)),1);o(a),f(100*a/numberToFixed(t.get(Y.id),1)),a===numberToFixed(t.get(Y.id),1)&&a>0&&(e.addInfoLog("You have recovered."),b(!0))}},1e3);let v=e.stage>=70?[[A,5],[T,5]]:e.stage>=65?[[A,7],[T,3]]:e.stage>=60?[[I,6],[A,3],[T,1]]:e.stage>=55?[[E,4],[I,4],[A,2]]:e.stage>=50?[[E,5],[I,4],[A,1]]:e.stage>=45?[[E,6],[I,4]]:e.stage>=40?[[R,6],[E,4]]:e.stage>=30?[[M,6],[R,4]]:[[M,10]];return(0,a.jsxs)("div",{style:{backgroundColor:"#181818",height:"425px"},children:[(0,a.jsxs)("div",{className:"d-flex flex-row",children:[(0,a.jsx)("div",{className:"p-2",children:(0,a.jsx)(w.Z,{style:{color:"white",fontWeight:"bold",backgroundColor:"#494949",borderColor:"#494949"},onClick:()=>e.changeStage(e.stage-1),children:"<<"})}),(0,a.jsx)("div",{className:"p-2 flex-grow-1 bd-highlight col-example",children:(0,a.jsxs)("h3",{style:{color:"white",fontWeight:"bold"},children:["Stage ",e.stage," - ",e.stageKills," kills"]})}),(0,a.jsx)("div",{className:"p-2",children:(0,a.jsx)(w.Z,{style:{color:"white",fontWeight:"bold",backgroundColor:"#494949",borderColor:"#494949"},onClick:()=>e.changeStage(e.stage+1),children:">>"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{style:{color:"green",paddingLeft:"10px",fontWeight:"bold",width:"100%"},children:["40% ",l.get(h.gold.id)," ",h.gold.icon," or 30% ",l.get(h.experience.id)," ",h.experience.icon," or 20% ",l.get("element")," of ",h.fire.icon," ",h.water.icon," ",h.earth.icon," ",h.air.icon,v.map(e=>{let[t,r]=e;return(0,a.jsxs)("span",{children:[" or ",r,"%",(0,a.jsxs)("span",{"data-tip":!0,"data-for":t.id,style:{color:colorByRarity(t.rarity)},children:[" 1 ",t.name]})]},t.id)})]}),v.map(e=>{let[t,r]=e;return(0,a.jsx)(BoxToolTip,{box:t},t.id)})]}),(0,a.jsxs)("div",{className:"row",children:[(0,a.jsxs)("div",{className:"column",style:{overflow:"hidden"},children:[(0,a.jsx)("p",{style:{color:colorByRarity(3),paddingLeft:"10px",fontWeight:"bold",width:"100%"},children:"You"}),V.map(e=>e.id===z.id?(0,a.jsxs)("p",{style:{color:"white",paddingLeft:"10px",fontWeight:"bold",width:"100%"},children:[e.icon," ",Number(Number(t.get(e.id)||0).toFixed(1))," - ",numberToFixed(1.3*Number(t.get(e.id)||0).toFixed(1),1)]},e.id):(0,a.jsxs)("p",{style:{color:"white",paddingLeft:"10px",fontWeight:"bold",width:"100%"},children:[e.icon," ",Number(Number(t.get(e.id)||0).toFixed(1))]},e.id)),(0,a.jsx)("div",{style:{paddingLeft:"10px",paddingTop:"35px",textAlign:"-webkit-center"},children:(0,a.jsx)(F.Z,{style:{width:"80%",height:"30px"},className:"health",now:g,label:"".concat(r,"/").concat(numberToFixed(t.get(Y.id),1))})})]}),(0,a.jsxs)("div",{className:"column",style:{textAlign:"end",overflow:"hidden"},children:[(0,a.jsx)("p",{style:{color:colorByRarity(3),paddingLeft:"10px",fontWeight:"bold",width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:l.get("name")}),V.map(e=>e.id===z.id?(0,a.jsxs)("p",{style:{color:"white",paddingLeft:"10px",fontWeight:"bold",width:"100%"},children:[Number(Number(l.get(e.id)||0).toFixed(1))," - ",numberToFixed(1.3*Number(l.get(e.id)||0).toFixed(1),1)," ",e.icon]},e.id):(0,a.jsxs)("p",{style:{color:"white",paddingLeft:"10px",fontWeight:"bold",width:"100%"},children:[Number(Number(l.get(e.id)||0).toFixed(1))," ",e.icon]},e.id)),(0,a.jsx)("div",{style:{paddingLeft:"10px",paddingTop:"35px",textAlign:"-webkit-center"},children:(0,a.jsx)(F.Z,{style:{width:"80%",height:"30px"},className:"right",now:p,label:"".concat(u,"/").concat(l.get(Y.id))})})]})]})]})}),X=s.memo(function(e){return console.log(e.skills),(0,a.jsxs)("div",{style:{backgroundColor:"#181818",paddingTop:"10px",color:"white",height:"370px",overflowY:"auto",display:"block",fontWeight:"bold"},children:[(0,a.jsx)("div",{style:{paddingLeft:"10px"},children:(0,a.jsx)(N.Z,{checked:void 0!==e.skills.get("1"),onChange:()=>e.onClickSetSkills({id:"1",buff:{[z.id]:.1},price:{[h.water.id]:-1}}),label:"Qi flowing enhancement - (10% ".concat(z.icon," for -1 ").concat(h.water.icon," /s)")})}),(0,a.jsx)("div",{style:{paddingLeft:"10px"},children:(0,a.jsx)(N.Z,{checked:void 0!==e.skills.get("2"),onChange:()=>e.onClickSetSkills({id:"2",buff:{[H.id]:.1},price:{[h.air.id]:-1}}),label:"Airflow Resistance - (10% ".concat(H.icon," for -1 ").concat(h.air.icon," /s)")})}),(0,a.jsx)("div",{style:{paddingLeft:"10px"},children:(0,a.jsx)(N.Z,{checked:void 0!==e.skills.get("3"),onChange:()=>e.onClickSetSkills({id:"3",buff:{[Y.id]:.1},price:{[h.earth.id]:-1}}),label:"Natural poison resistance - (10% ".concat(Y.icon," for -1 ").concat(h.earth.icon," /s)")})}),(0,a.jsx)("div",{style:{paddingLeft:"10px"},children:(0,a.jsx)(N.Z,{checked:void 0!==e.skills.get("4"),onChange:()=>e.onClickSetSkills({id:"4",buff:{[K.id]:.1},price:{[h.fire.id]:-1}}),label:"Divine phoenix's sanction - (10% ".concat(K.icon," for -1 ").concat(h.fire.icon," /s)")})}),(0,a.jsx)("div",{style:{paddingLeft:"10px"},children:(0,a.jsx)(N.Z,{checked:void 0!==e.skills.get("5"),onChange:()=>e.onClickSetSkills({id:"5",buff:{[z.id]:.1,[H.id]:.1,[Y.id]:.1,[K.id]:.1},price:{[h.gold.id]:-20}}),label:"Fortune god's blessing - (10% to all stats for -20 ".concat(h.gold.icon," /s)")})}),(0,a.jsx)("div",{style:{paddingLeft:"10px"},children:(0,a.jsx)(N.Z,{checked:void 0!==e.skills.get("6"),onChange:()=>e.onClickSetSkills({id:"6",buff:{[z.id]:.25},price:{[h.fire.id]:-5}}),label:"Exploding fists - (25% ".concat(z.icon," for -5 ").concat(h.fire.icon," /s)")})}),(0,a.jsx)("div",{style:{paddingLeft:"10px"},children:(0,a.jsx)(N.Z,{checked:void 0!==e.skills.get("7"),onChange:()=>e.onClickSetSkills({id:"7",buff:{[H.id]:.25},price:{[h.earth.id]:-5}}),label:"Iron skin tampering - (25% ".concat(H.icon," for -5 ").concat(h.earth.icon," /s)")})}),(0,a.jsx)("div",{style:{paddingLeft:"10px"},children:(0,a.jsx)(N.Z,{checked:void 0!==e.skills.get("8"),onChange:()=>e.onClickSetSkills({id:"8",buff:{[Y.id]:.25},price:{[h.water.id]:-5}}),label:"Flowing river core - (25% ".concat(Y.icon," for -5 ").concat(h.water.icon," /s)")})}),(0,a.jsx)("div",{style:{paddingLeft:"10px"},children:(0,a.jsx)(N.Z,{checked:void 0!==e.skills.get("9"),onChange:()=>e.onClickSetSkills({id:"9",buff:{[K.id]:.25},price:{[h.air.id]:-5}}),label:"Rejuvenating meditation - (25% ".concat(K.icon," for -5 ").concat(h.air.icon," /s)")})})]})});function applyStatBuffs(e,t){let r={};e.valueSeq().toList().map(e=>e.buff).forEach(e=>{for(let[t,o]of Object.entries(e))r[t]?r[t]+=o:r[t]=o});let o=Object.keys(r);for(let e=0;e<o.length;e++){let l=o[e];r[l]=t.get(l)*r[l]}let l=(0,n.Map)(r);return[(0,d.add)(t,l),l]}function applyRelicStatBuffs(e,t){let r={};e.entrySeq().forEach(e=>{let[t,o]=e;r[t]?r[t]+=o:r[t]=o});let o=Object.keys(r);for(let e=0;e<o.length;e++){let l=o[e];r[l]=t.get(l)*r[l]}let l=(0,n.Map)(r);return[(0,d.add)(t,l),l]}function Logs(e){let t;return(0,s.useEffect)(()=>{void 0!=t&&t.scrollIntoView({behavior:"smooth"})},[e.logs]),(0,a.jsxs)("div",{style:{backgroundColor:"#181818",height:"370px",overflowY:"auto",display:"block"},children:[e.logs.map((e,t)=>(0,a.jsx)("p",{style:{color:e.color,paddingLeft:"10px",fontWeight:"bold",width:"100%"},children:e.message},t)),(0,a.jsx)("div",{style:{float:"left",clear:"both"},ref:e=>{t=e}})]})}var $=r(5934);let ee="artifact",et="relic",colorByReward=e=>{switch(e){case h.fire.id:return"#b90d0a";case h.water.id:return"#3c73a8";case h.earth.id:return"#32612d";case h.air.id:return"#7f7d9c";case h.gold.id:return"#bba14f";case h.experience.id:return"#6064dc";default:return"white"}},anotherColorByReward=e=>{switch(e){case h.fire.id:return"#E03D28";case h.water.id:return"#79AAE3";case h.earth.id:return"#72A269";case h.air.id:return"#BAB7D8";case h.gold.id:return"#715D08";case h.experience.id:return"#9E99FF";default:return"white"}},rarityName=e=>{switch(e){case 1:return"Common";case 2:return"Rare";case 3:return"Epic";case 4:return"Legendary"}},colorByRarity=e=>{switch(e){case 1:return"#a0643c";case 2:return"#386ca4";case 3:return"#987cbc";case 4:return"#DB9D00"}};function randomIntFromInterval(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function gen_rarity_artifact(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;var t=randomIntFromInterval(1+e,100);return t>99?4:t>95?3:t>70?2:1}function gen_rarity_relic(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;var t=randomIntFromInterval(1+e,100);return t>98?4:t>90?3:2}function gen_rarity_odds(e){var t=randomIntFromInterval(1,100);let r=0;for(let o=1;o<5;o++)if(t<=(r+=e[o]))return o}var ei=[h.fire,h.water,h.earth,h.air,h.gold,h.experience];function generate_artifact(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gen_rarity_artifact();var price_gold=()=>4*randomIntFromInterval(50,100),price_elem=()=>randomIntFromInterval(4,8),reward_gold=()=>.01*randomIntFromInterval(8,10),reward_elem=()=>.001*randomIntFromInterval(10,30),reward_experience=()=>.25*randomIntFromInterval(3,6),reward_mission=()=>.01*randomIntFromInterval(10,15),price=e=>e.id==h.gold.id?price_gold():price_elem(),reward=e=>e.id==h.gold.id?reward_gold():e.id==h.experience.id?reward_experience():reward_elem(),o=Object.assign({},...ei.map(e=>({[e.id]:0}))),l=Object.assign({},...ei.map(e=>({[e.id]:0}))),a=Object.assign({},...V.map(e=>({[e.id]:0})));for(let t=0;t<r;t++){var s=ei[randomIntFromInterval(0,4)],d=2==r?ei[randomIntFromInterval(0,5)]:ei[randomIntFromInterval(0,4)];if(0==t?o[h.gold.id]=-price_gold():o[s.id]-=price(s),3==r&&(10==randomIntFromInterval(1,10)||0==t)){var u=randomIntFromInterval(1,(0,c.missionsByLevel)(e).length-1),m=void 0!=l.mission&&void 0!=l.mission[u]?l.mission[u]:0;l.mission={...l.mission,[u]:m+reward_mission()}}else if(4==r&&(10==randomIntFromInterval(1,10)||0==t)){var u=h.elements[randomIntFromInterval(0,h.elements.length-1)].id,m=void 0!=l.mission&&void 0!=l.mission[u]?l.mission[u]:0;l.mission={...l.mission,[u]:m+reward_mission()}}else l[d.id]+=reward(d)*(r<3?1:2)}if(e>=30){var g=1;"object"==typeof t&&null!==t&&null!==t.aBStatsMult&&(g=t.aBStatsMult+1);for(let e=0;e<r*g;e++){let e=V[randomIntFromInterval(0,3)];a[e.id]+=e.id!==K.id?1:.1}}var f="",p=[h.fire,h.water,h.earth,h.air],y=["red","blue","green","grey"];for(let e=0;e<p.length;e++)0!==l[p[e].id]&&(f=""===f?y[e]:f+"-"+y[e]);f=""===f?"gold":f;let x="/"+f+"/n"+randomIntFromInterval(1,40)+".png";return{id:(0,$.Z)(),src:x,name:itemName(l),effect:"cool",type:ee,rarity:r,cost:()=>(0,n.Map)(o),effect:()=>(0,n.Map)(l),statEffect:(0,n.Map)(a)}}function generate_relic(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gen_rarity_relic();var o=2==r?2:3==r?4:6,price_gold=()=>8*randomIntFromInterval(50,100),price_elem=()=>2*randomIntFromInterval(4,8),reward_gold=()=>.5*randomIntFromInterval(5,10),reward_elem=()=>.1*randomIntFromInterval(1,3),price=e=>e.id==h.gold.id?price_gold():price_elem(),reward=e=>e.id==h.gold.id?reward_gold():reward_elem(),reward_mission=()=>.01*randomIntFromInterval(30,45),reward_stat=()=>.01*randomIntFromInterval(10,15),l=Object.assign({},...ei.map(e=>({[e.id]:0}))),a=Object.assign({},...ei.map(e=>({[e.id]:0}))),s=Object.assign({},...V.map(e=>({[e.id]:0})));for(let t=0;t<o;t++){var d=ei[randomIntFromInterval(0,4)],u=ei[randomIntFromInterval(0,4)];if(0==t?l[h.gold.id]=-price_gold():l[d.id]-=price(d),3==r&&(10==randomIntFromInterval(1,10)||0==t)){var m=(0,c.missionsByLevel)(e),g=randomIntFromInterval(1,m.length-1),f=void 0!=a.mission&&void 0!=a.mission[g]?a.mission[g]:0;a.mission={...a.mission,[g]:f+reward_mission()}}else if(4==r&&(20==randomIntFromInterval(1,20)||0==t)&&1!==t){var m=(0,c.missionsByLevel)(e),g=randomIntFromInterval(1,m.length-1),f=void 0!=a.mission&&void 0!=a.mission[g]?a.mission[g]:0;a.mission={...a.mission,[g]:f+reward_mission()}}else if(4==r&&(20==randomIntFromInterval(1,20)||1==t)){let t=e>=30?2:1,r=randomIntFromInterval(0,t);if(0==r){var p=h.elements[randomIntFromInterval(0,h.elements.length-1)],g=p.id,f=void 0!=a.mission&&void 0!=a.mission[g]?a.mission[g]:0;a.mission={...a.mission,[g]:f+reward_mission()}}else if(1==r){var p=h.allCurrencies[randomIntFromInterval(0,h.allCurrencies.length-1)],g=p.id,f=void 0!=a.artifactBonus&&void 0!=a.artifactBonus[g]?a.artifactBonus[g]:0;a.artifactBonus={...a.artifactBonus,[g]:f+reward_mission()}}else{var g=V[randomIntFromInterval(0,V.length-1)].id,f=void 0!=a.statBonus&&void 0!=a.statBonus[g]?a.statBonus[g]:0;a.statBonus={...a.statBonus,[g]:f+reward_stat()}}}else a[u.id]+=reward(u)}var y="",x=[h.fire,h.water,h.earth,h.air],b=["red","blue","green","grey"];for(let e=0;e<x.length;e++)0!==a[x[e].id]&&(y=""===y?b[e]:y+"-"+b[e]);y=""===y?"gold":y;let v="/"+y+"/r"+randomIntFromInterval(1,40)+".png";return{id:(0,$.Z)(),src:v,name:itemName(a),effect:"cool",type:et,rarity:r,exp:Number(Number(.5*r).toFixed(1)),cost:()=>(0,n.Map)(l),effect:()=>(0,n.Map)(a),statEffect:(0,n.Map)(s)}}let er=r(7022),shop_TypeMessage=e=>{let{isRelic:t,style:r,rarity:o}=e;return(0,a.jsx)("div",{children:(0,a.jsxs)("p",{style:{color:t?"#DB9D00":"#e5e5e5"},children:[rarityName(o)," ",t?"Relic":"Artifact"]})})},RelicMessage=e=>{var t;let{isRelic:r,style:o,item:l}=e;return(0,a.jsxs)("div",{children:[r?(0,a.jsx)("p",{style:o,children:"Applied if relic equipped during reincarnation:"}):null,r?(0,a.jsxs)("p",{style:{color:"#DB9D00"},children:[null!==(t=l.exp)&&void 0!==t?t:0,"% of current exp ",h.experience.icon]}):null]})},OwnedRelicMessage=e=>{var t;let{isRelic:r,style:o,item:l}=e;return(0,a.jsxs)("div",{children:[r?(0,a.jsx)("p",{style:o,children:"If equiped on reincarnation gain:"}):null,r?(0,a.jsxs)("p",{style:{color:"#DB9D00"},children:[null!==(t=l.exp)&&void 0!==t?t:0,"% of current exp ",h.experience.icon]}):null]})},shop_Background=e=>{let{children:t,item:r,isShop:o,origin:l}=e;return(0,a.jsx)("div",{"data-tip":!0,"data-for":o?r.id:r.id+"R"+l,style:{position:"relative",top:2,bottom:0,right:0,left:0,flexDirection:"column",zIndex:1,height:"105px"},children:t})},eo=s.memo(function(e){var t;let[r,o]=(0,s.useState)(!1),[l,n]=(0,s.useState)({}),[d,u]=(0,s.useState)(1),[m,g]=(0,s.useState)(1),res=t=>(function(e,t){var r,o,l=[];for(r=0,o=-1;r<e.length;r++)r%5==0&&(l[++o]=[]),l[o].push(e[r]);return l})(e.items.filter(e=>e.type===t),0).splice(t==ee?(d-1)*5:(m-1)*5,5).map((t,r)=>(0,a.jsx)("tr",{children:t.map(t=>(0,a.jsx)(es,{item:t,setRelic:e.selectRelic,relic:e.relic,artifactBonusLedger:e.artifactBonusLedger},t.id))},r)),openModal=e=>{n(e),o(!0)},f=e.items.filter(e=>e.type===ee).length,p=f>0?Math.ceil(f/25):1,b=e.items.filter(e=>e.type===et).length,v=b>0?Math.ceil(b/25):1,changeArtifactSkip=e=>{e>0&&e<=p&&u(e)},changeRelicSkip=e=>{e>0&&e<=v&&g(e)};return p<d&&u(p),v<m&&g(v),(0,a.jsxs)(y.Z,{defaultActiveKey:"Artifacts",className:"mb-3",children:[(0,a.jsx)(x.Z,{eventKey:"Artifacts",title:"Artifacts",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("table",{style:{width:"100%",height:"195px",overflowY:"auto",display:"block"},children:(0,a.jsx)("tbody",{children:res(ee)})}),(0,a.jsxs)("div",{className:"d-flex flex-row",children:[(0,a.jsx)("div",{className:"p-2",children:(0,a.jsx)(w.Z,{style:{color:"white",fontWeight:"bold",backgroundColor:"#494949",borderColor:"#494949"},onClick:()=>changeArtifactSkip(d-1),children:"<<"})}),(0,a.jsx)("div",{className:"p-2 flex-grow-1 bd-highlight col-example",children:(0,a.jsxs)("p",{style:{color:"white",fontWeight:"bold",textAlign:"center"},children:["Page ",d," of ",p]})}),(0,a.jsx)("div",{className:"p-2",children:(0,a.jsx)(w.Z,{style:{color:"white",fontWeight:"bold",backgroundColor:"#494949",borderColor:"#494949"},onClick:()=>changeArtifactSkip(d+1),children:">>"})})]})]})}),(0,a.jsx)(x.Z,{eventKey:"Relics",title:"Relics",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("table",{style:{width:"100%",height:"195px",overflowY:"auto",display:"block"},children:(0,a.jsx)("tbody",{children:res(et)})}),(0,a.jsxs)("div",{className:"d-flex flex-row",children:[(0,a.jsx)("div",{className:"p-2",children:(0,a.jsx)(w.Z,{style:{color:"white",fontWeight:"bold",backgroundColor:"#494949",borderColor:"#494949"},onClick:()=>changeRelicSkip(m-1),children:"<<"})}),(0,a.jsx)("div",{className:"p-2 flex-grow-1 bd-highlight col-example",children:(0,a.jsxs)("p",{style:{color:"white",fontWeight:"bold",textAlign:"center"},children:["Page ",m," of ",v]})}),(0,a.jsx)("div",{className:"p-2",children:(0,a.jsx)(w.Z,{style:{color:"white",fontWeight:"bold",backgroundColor:"#494949",borderColor:"#494949"},onClick:()=>changeRelicSkip(m+1),children:">>"})})]})]})}),Math.max(e.maxlevel,e.level)>=30&&(0,a.jsx)(x.Z,{eventKey:"Box",title:"Treasure Box",children:(0,a.jsxs)("div",{children:[r&&(0,a.jsx)(BoxModal,{box:l,quantity:null!==(t=e.boxesState.get(l.id))&&void 0!==t?t:0,openBox:e.openBox,level:e.level,closeModal:()=>{o(!1)},aBStatsMult:e.aBStatsMult}),(0,a.jsx)("table",{style:{width:"100%",height:"250px",overflowY:"auto",display:"block"},children:(0,a.jsx)("tbody",{children:(0,a.jsx)("tr",{children:W.map(t=>{var r;return e.boxesState.get(t.id)&&0!==e.boxesState.get(t.id)?(0,a.jsx)(Box,{box:t,quantity:null!==(r=e.boxesState.get(t.id))&&void 0!==r?r:0,openModal:openModal},t.id):null})})})})]})}),(0,a.jsx)(x.Z,{eventKey:"Gains",title:"Gains",children:(0,a.jsx)("div",{style:{width:"100%",height:"250px",overflowY:"auto",display:"block",background:"#181818"},children:h.currencies.map(t=>0!=e.ledger.get(t.id)&&e.ledger.get(t.id)&&(0,a.jsxs)("p",{style:{color:e.ledger.get(t.id)>0?"green":"red",paddingLeft:"10px",fontWeight:"bold"},children:[Number(5*e.ledger.get(t.id)||0).toFixed(3)," ",t.icon," /s "]},t.id))})}),(0,a.jsx)(x.Z,{eventKey:"Boosts",title:"Boosts",children:(0,a.jsxs)("div",{style:{width:"100%",height:"250px",overflowY:"auto",display:"block",background:"#181818"},children:[e.artifactBonusLedger.entrySeq().sort(function(e,t){let[r,o]=e,[l,a]=t;return!isNaN(l)&&isNaN(r)?-1:a-o}).map(e=>{let[t,r]=e;return t!==h.soul.id?(0,a.jsxs)("p",{style:{color:colorByRarity(4),paddingLeft:"10px",fontWeight:"bold"},children:[Number(100*r).toFixed(0),"% boost for ",(0,a.jsxs)("span",{style:{color:colorByReward(t)},children:[(0,h.currencyById)(t).icon," artifacts"]})]},t):(0,a.jsxs)("p",{style:{color:colorByRarity(4),paddingLeft:"10px",fontWeight:"bold"},children:[Number(100*r).toFixed(0),"% boost for ",h.soul.icon," on reincarnation"]},t)}),e.boostLedger.entrySeq().sort(function(e,t){let[r,o]=e,[l,a]=t;return!isNaN(l)&&isNaN(r)?-1:a-o}).map(e=>{let[t,r]=e;return h.elements.some(e=>e.id==t)?(0,a.jsxs)("p",{style:{color:colorByRarity(4),paddingLeft:"10px",fontWeight:"bold"},children:[Number(100*r).toFixed(0),"% boost for ",(0,a.jsxs)("span",{style:{color:colorByReward(t)},children:[(0,h.currencyById)(t).icon," actions"]})]},t):(0,a.jsxs)("p",{style:{color:colorByRarity(3),paddingLeft:"10px",fontWeight:"bold"},children:[Number(100*r).toFixed(0),"% boost for ",(0,a.jsx)("span",{style:{color:(0,c.colorByMission)(c.missions[t])},children:c.missions[t].text})]},t)})]})})]})}),el=s.memo(function(e){let[t,r]=(0,s.useState)(!1),gen_item=()=>(function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return randomIntFromInterval(1,100)>70&&e>=18?generate_relic(e,t,gen_rarity_relic(o)):generate_artifact(e,t,gen_rarity_artifact(r))})(e.level,{aBStatsMult:e.aBStatsMult},e.aluck,e.rluck),gen_items=()=>[gen_item(),gen_item(),gen_item(),gen_item(),gen_item()],gen_items_first=()=>[generate_artifact(e.level,0,1),generate_artifact(e.level,0,2),generate_artifact(e.level,0,2),generate_artifact(e.level,0,3),generate_artifact(e.level,0,1)],[o,l]=(0,s.useState)(0!=e.items.length?e.items:gen_items_first()),n=o;(0,s.useEffect)(()=>{0===e.items.length?(n=gen_items_first(),e.updateShop(n)):l(e.items)},[e.items]),0!=e.items.length||e.updateShop(n);let onClickHandler=()=>{let t=gen_items();r(!0),l(t),e.updateShop(t),setTimeout(()=>{r(!1)},(15-e.shopcd)*1e3)};return(0,a.jsxs)("div",{style:{marginBottom:"30px"},children:[(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"column",children:(0,a.jsx)("h1",{style:{color:"white",fontWeight:"bold"},children:"Shop"})}),(0,a.jsx)("div",{className:"column",children:(0,a.jsx)(ReactiveButton,{style:{width:"100%",marginTop:"7px",fontWeight:"bold"},height:"inherit",buttonState:t?"loading":"idle",loadDuration:15-e.shopcd,onClick:e=>onClickHandler(),idleText:"Refresh Shop"})})]}),(0,a.jsx)("table",{style:{width:"100%",height:"110px"},children:(0,a.jsx)("tbody",{children:(0,a.jsx)("tr",{children:o.map((t,r)=>(0,a.jsxs)("td",{children:[(0,a.jsx)(ea,{item:t,isShop:!0,firstShop:10>=Math.max(e.maxlevel,e.level),onClick:l=>{!t.bought&&(t.bought=e.buy(l),t.bought&&(o[r]=t,e.updateShop([...o])))}}),(0,a.jsxs)(S.Z,{id:t.id,place:"top",type:"dark",effect:"solid",children:[(0,a.jsx)("h3",{style:{color:colorByRarity(t.rarity)},children:t.name}),(0,a.jsx)(shop_TypeMessage,{isRelic:t.type===et,style:{color:colorByRarity(t.rarity)},rarity:t.rarity}),h.currencies.map(e=>0!=t.cost().get(e.id)&&t.cost().get(e.id)&&(0,a.jsxs)("p",{style:{color:"red"},children:[Number(t.cost().get(e.id)||0).toFixed(0)," ",e.icon]},e.id)),(0,a.jsx)(RelicMessage,{isRelic:t.type===et,style:{color:"#e5e5e5"},item:t}),h.currencies.map(r=>0!=t.effect().get(r.id)&&t.effect().get(r.id)&&(0,a.jsxs)("p",{style:{color:"green"},children:[Number(t.effect().get(r.id)||0).toFixed(3)," ",r.icon," /s",void 0===e.artifactBonusLedger.get(r.id)||t.type===et?"":" + "+Number(Number(t.effect().get(r.id)||0)*e.artifactBonusLedger.get(r.id)).toFixed(3)+" "+r.icon+" /s"]},r.id)),t.effect().get("mission")&&Object.entries(t.effect().get("mission")).map(e=>{let[t,r]=e;return h.elements.some(e=>e.id==t)?(0,a.jsxs)("p",{style:{color:colorByRarity(4)},children:[Number(100*r).toFixed(0),"% boost for ",(0,a.jsxs)("span",{style:{color:colorByReward(t)},children:[(0,h.currencyById)(t).icon," actions"]})]},t):(0,a.jsxs)("p",{style:{color:colorByRarity(3)},children:[Number(100*r).toFixed(0),"% boost for ",(0,a.jsx)("span",{style:{color:(0,c.colorByMission)(c.missions[t])},children:c.missions[t].text})]},t)}),t.effect().get("artifactBonus")&&Object.entries(t.effect().get("artifactBonus")).map(e=>{let[t,r]=e;return h.currencies.some(e=>e.id==t)?(0,a.jsxs)("p",{style:{color:colorByRarity(4)},children:[Number(100*r).toFixed(0),"% boost for ",(0,a.jsxs)("span",{style:{color:colorByReward(t)},children:[(0,h.currencyById)(t).icon," artifacts"]})]},t):h.soul.id==t?(0,a.jsxs)("p",{style:{color:colorByRarity(4)},children:[Number(100*r).toFixed(0),"% boost for ",h.soul.icon," on reincarnation"]},t):null}),t.effect().get("statBonus")&&Object.entries(t.effect().get("statBonus")).map(e=>{let[t,r]=e;return V.some(e=>e.id==t)?(0,a.jsxs)("p",{style:{color:colorByRarity(4)},children:[Number(100*r).toFixed(0),"% boost for ",(0,a.jsx)("span",{style:{color:colorByReward(t)},children:statById(t).icon})]},t):null}),V.map(e=>void 0!==t.statEffect&&0!=t.statEffect.get(e.id)&&t.statEffect.get(e.id)&&(0,a.jsxs)("p",{style:{color:"white"},children:[Number(Number(t.statEffect.get(e.id)||0).toFixed(1))," ",e.icon]},e.id))]})]},t.id))})})})]})}),ea=s.memo(function(e){var{isShop:t,item:r,onClick:o,origin:l,firstShop:s}=e;return(0,a.jsx)(shop_Background,{item:r,isShop:t,origin:l,children:(0,a.jsx)("div",{style:{width:100,height:100,position:"relative",height:"100px",backgroundImage:"url(".concat(er.basePath+r.src,")")},children:(0,a.jsxs)("div",{style:{width:100,height:100,backgroundImage:e.isShop&&r.bought?"url(".concat(er.basePath+"/s.png",")"):!e.isShop&&e.using?"url(".concat(er.basePath+"/u.png",")"):"url(".concat(er.basePath+"/n.png",")")},onClick:()=>o(r),children:[(0,a.jsx)("img",{alt:r.rarity,src:er.basePath+"/"+(r.type===et?"r":"")+r.rarity+".png",width:100,height:100}),s&&(0,a.jsx)("div",{style:{position:"absolute",paddingLeft:"3px",paddingRight:"3px",top:"2px",right:"2px",color:"white",backgroundColor:colorByRarity(r.rarity),userSelect:"none"},children:"Click to buy"}),t&&(0,a.jsx)("div",{style:{position:"absolute",paddingLeft:"3px",bottom:"2px",right:"2px",color:"white",backgroundColor:colorByRarity(r.rarity),userSelect:"none"},children:h.currencies.map(e=>0!=r.effect().get(e.id)&&r.effect().get(e.id)&&e.icon)})]})})})}),es=s.memo(function(e){var{relic:t,item:r,setRelic:o,onClick:l,selected:s,place:n,tteffect:d,artifactBonusLedger:u,origin:m,delay:g}=e;return l=void 0!==l?l:void 0!==o?o:()=>void 0,t=void 0!==t?t:{},m=void 0!==m?m:"",g=void 0!==g?g:t.id==r.id,(0,a.jsxs)("td",{children:[(0,a.jsx)(ea,{item:r,isShop:!1,onClick:l,using:t.id==r.id||(null==s?void 0:s.id)==r.id,origin:m}),(0,a.jsx)(S.Z,{id:r.id+"R"+m,place:void 0!==n?n:"top",type:"dark",effect:void 0!==d?d:"solid",delayHide:g?100:0,delayUpdate:g?100:0,children:(0,a.jsxs)("div",{style:{width:"100%",maxHeight:"400px",overflowY:"auto",display:"block"},children:[(0,a.jsx)("h3",{style:{color:colorByRarity(r.rarity)},children:r.name}),(0,a.jsx)(shop_TypeMessage,{isRelic:r.type===et,style:{color:colorByRarity(r.rarity)},rarity:r.rarity}),(0,a.jsx)(OwnedRelicMessage,{isRelic:r.type===et,style:{color:"#e5e5e5"},item:r}),h.currencies.map(e=>0!=r.effect().get(e.id)&&r.effect().get(e.id)&&(0,a.jsxs)("p",{style:{color:"green"},children:[Number(r.effect().get(e.id)||0).toFixed(3)," ",e.icon," /s",void 0===u||void 0===u.get(e.id)||r.type===et&&t.id!==r.id?"":" + "+Number(Number(r.effect().get(e.id)||0)*u.get(e.id)).toFixed(3)+" "+e.icon+" /s"]},e.id)),r.effect().get("mission")&&Object.entries(r.effect().get("mission")).map(e=>{let[t,r]=e;return h.elements.some(e=>e.id==t)?(0,a.jsxs)("p",{style:{color:colorByRarity(4)},children:[Number(100*r).toFixed(0),"% boost for ",(0,a.jsxs)("span",{style:{color:colorByReward(t)},children:[(0,h.currencyById)(t).icon," actions"]})]},t):(0,a.jsxs)("p",{style:{color:colorByRarity(3)},children:[Number(100*r).toFixed(0),"% boost for ",(0,a.jsx)("span",{style:{color:(0,c.colorByMission)(c.missions[Number(t)])},children:c.missions[Number(t)].text})]},t)}),r.effect().get("artifactBonus")&&Object.entries(r.effect().get("artifactBonus")).map(e=>{let[t,r]=e;return h.currencies.some(e=>e.id==t)?(0,a.jsxs)("p",{style:{color:colorByRarity(4)},children:[Number(100*r).toFixed(0),"% boost for ",(0,a.jsxs)("span",{style:{color:colorByReward(t)},children:[(0,h.currencyById)(t).icon," artifacts"]})]},t):h.soul.id==t?(0,a.jsxs)("p",{style:{color:colorByRarity(4)},children:[Number(100*r).toFixed(0),"% boost for ",h.soul.icon," on reincarnation"]},t):null}),r.effect().get("statBonus")&&Object.entries(r.effect().get("statBonus")).map(e=>{let[t,r]=e;return V.some(e=>e.id==t)?(0,a.jsxs)("p",{style:{color:colorByRarity(4)},children:[Number(100*r).toFixed(0),"% boost for ",(0,a.jsx)("span",{style:{color:colorByReward(t)},children:statById(t).icon})]},t):null}),V.map(e=>void 0!==r.statEffect&&0!=r.statEffect.get(e.id)&&r.statEffect.get(e.id)&&(0,a.jsxs)("p",{style:{color:"white"},children:[Number(Number(r.statEffect.get(e.id)||0).toFixed(1))," ",e.icon]},e.id))]})})]})}),en=r(7022),relicBuff=(e,t)=>{switch(e.id){case h.fire.id:case h.water.id:case h.earth.id:case h.air.id:return(0,n.Map)({[e.id]:Number(t>1?Number(.001*expectedSumOfRandomNumbers(10,30,t)).toFixed(3):.001*randomIntFromInterval(10,30))});case h.gold.id:return(0,n.Map)({[h.gold.id]:Number(t>1?Number(.01*expectedSumOfRandomNumbers(8,10,t)).toFixed(2):.01*randomIntFromInterval(8,10))});case h.experience.id:return(0,n.Map)({[h.experience.id]:Number(t>1?Number(.25*expectedSumOfRandomNumbers(3,6,t)).toFixed(2):.25*randomIntFromInterval(3,6))});case z.id:case H.id:case Y.id:return(0,n.Map)({[e.id]:1*t});case K.id:return(0,n.Map)({[K.id]:.1*t});default:return 0}},expectedSumOfRandomNumbers=(e,t,r)=>r*(e+t)/2+Math.sqrt(r*(t-e+1)**2/12)*standardNormalRandom(),standardNormalRandom=()=>{let e=0,t=0;for(;0===e;)e=Math.random();for(;0===t;)t=Math.random();return Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*t)},relicCost=(e,t)=>{switch(e.id){case h.fire.id:case h.water.id:case h.earth.id:case h.air.id:return(0,n.Map)({[e.id]:-25*t,[h.soul.id]:-1*t});case h.gold.id:return(0,n.Map)({[h.gold.id]:-1e3*t,[h.soul.id]:-1*t});case h.experience.id:return(0,n.Map)({[h.experience.id]:-1e4*t,[h.soul.id]:-1*t});case z.id:case H.id:case Y.id:case K.id:return(0,n.Map)({[h.soul.id]:-1*t});default:return 0}},relicBuffText=(e,t)=>{switch(e.id){case h.fire.id:case h.water.id:case h.earth.id:case h.air.id:return"".concat(Number(.01*t)," to ").concat(Number(.03*t)," ").concat(e.icon,"/s for ").concat(t).concat(h.soul.icon," and ").concat(25*t).concat(e.icon);case h.gold.id:return"".concat(Number(.08*t)," to ").concat(Number(.1*t)," ").concat(e.icon,"/s for ").concat(t).concat(h.soul.icon," and ").concat(1e3*t).concat(e.icon);case h.experience.id:return"".concat(Number(.75*t)," to ").concat(Number(1.5*t)," ").concat(e.icon,"/s for ").concat(t).concat(h.soul.icon," and ").concat(1e4*t).concat(e.icon);case z.id:case H.id:case Y.id:return"".concat(t," ").concat(e.icon," for ").concat(t).concat(h.soul.icon);case K.id:return"".concat(Number(.1*t).toFixed(1)," ").concat(e.icon," for ").concat(t).concat(h.soul.icon);default:return""}},ed=s.memo(function(e){return(0,a.jsx)("div",{children:(0,a.jsx)("table",{className:"invisibleTable",style:{width:"-webkit-fill-available",height:"425px",overflowY:"auto",display:"block",background:"#181818"},children:(0,a.jsxs)("tbody",{style:{display:"table",width:"100%"},children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{style:{textAlign:"center"},children:(0,a.jsxs)("h1",{style:{color:"white",background:"#494949",fontWeight:"bold"},children:[" 25 ",h.fire.icon]})}),(0,a.jsx)("td",{style:{textAlign:"center"},children:(0,a.jsxs)("h1",{style:{color:"white",background:"#494949",fontWeight:"bold"},children:[" 25 ",h.water.icon]})}),(0,a.jsx)("td",{style:{textAlign:"center"},children:(0,a.jsxs)("h1",{style:{color:"white",background:"#494949",fontWeight:"bold"},children:[" 25 ",h.earth.icon]})}),(0,a.jsx)("td",{style:{textAlign:"center"},children:(0,a.jsxs)("h1",{style:{color:"white",background:"#494949",fontWeight:"bold"},children:[" 25 ",h.air.icon]})})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsxs)(w.Z,{style:{backgroundColor:colorByReward(h.fire.id),borderColor:colorByReward(h.fire.id),width:"100%",fontWeight:"bold",marginBottom:"10px"},onClick:()=>e.buyElement((0,n.Map)({[h.fire.id]:25,[h.soul.id]:-1})),children:["Buy for 1 ",h.soul.icon]})}),(0,a.jsx)("td",{children:(0,a.jsxs)(w.Z,{style:{backgroundColor:colorByReward(h.water.id),borderColor:colorByReward(h.water.id),width:"100%",fontWeight:"bold",marginBottom:"10px"},onClick:()=>e.buyElement((0,n.Map)({[h.water.id]:25,[h.soul.id]:-1})),children:["Buy for 1 ",h.soul.icon]})}),(0,a.jsx)("td",{children:(0,a.jsxs)(w.Z,{style:{backgroundColor:colorByReward(h.earth.id),borderColor:colorByReward(h.earth.id),width:"100%",fontWeight:"bold",marginBottom:"10px"},onClick:()=>e.buyElement((0,n.Map)({[h.earth.id]:25,[h.soul.id]:-1})),children:["Buy for 1 ",h.soul.icon]})}),(0,a.jsx)("td",{children:(0,a.jsxs)(w.Z,{style:{backgroundColor:colorByReward(h.air.id),borderColor:colorByReward(h.air.id),width:"100%",fontWeight:"bold",marginBottom:"10px"},onClick:()=>e.buyElement((0,n.Map)({[h.air.id]:25,[h.soul.id]:-1})),children:["Buy for 1 ",h.soul.icon]})})]}),(0,a.jsxs)("tr",{style:{paddingTop:"15px"},children:[(0,a.jsx)("td",{style:{textAlign:"center"},children:(0,a.jsxs)("h1",{style:{color:"white",background:"#494949",fontWeight:"bold"},children:[" 250 ",h.fire.icon]})}),(0,a.jsx)("td",{style:{textAlign:"center"},children:(0,a.jsxs)("h1",{style:{color:"white",background:"#494949",fontWeight:"bold"},children:[" 250 ",h.water.icon]})}),(0,a.jsx)("td",{style:{textAlign:"center"},children:(0,a.jsxs)("h1",{style:{color:"white",background:"#494949",fontWeight:"bold"},children:[" 250 ",h.earth.icon]})}),(0,a.jsx)("td",{style:{textAlign:"center"},children:(0,a.jsxs)("h1",{style:{color:"white",background:"#494949",fontWeight:"bold"},children:[" 250 ",h.air.icon]})})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsxs)(w.Z,{style:{backgroundColor:colorByReward(h.fire.id),borderColor:colorByReward(h.fire.id),width:"100%",fontWeight:"bold",marginBottom:"10px"},onClick:()=>e.buyElement((0,n.Map)({[h.fire.id]:250,[h.gold.id]:-1e4})),children:["Buy for 10000 ",h.gold.icon]})}),(0,a.jsx)("td",{children:(0,a.jsxs)(w.Z,{style:{backgroundColor:colorByReward(h.water.id),borderColor:colorByReward(h.water.id),width:"100%",fontWeight:"bold",marginBottom:"10px"},onClick:()=>e.buyElement((0,n.Map)({[h.water.id]:250,[h.gold.id]:-1e4})),children:["Buy for 10000 ",h.gold.icon]})}),(0,a.jsx)("td",{children:(0,a.jsxs)(w.Z,{style:{backgroundColor:colorByReward(h.earth.id),borderColor:colorByReward(h.earth.id),width:"100%",fontWeight:"bold",marginBottom:"10px"},onClick:()=>e.buyElement((0,n.Map)({[h.earth.id]:250,[h.gold.id]:-1e4})),children:["Buy for 10000 ",h.gold.icon]})}),(0,a.jsx)("td",{children:(0,a.jsxs)(w.Z,{style:{backgroundColor:colorByReward(h.air.id),borderColor:colorByReward(h.air.id),width:"100%",fontWeight:"bold",marginBottom:"10px"},onClick:()=>e.buyElement((0,n.Map)({[h.air.id]:250,[h.gold.id]:-1e4})),children:["Buy for 10000 ",h.gold.icon]})})]}),(0,a.jsxs)("tr",{style:{paddingTop:"15px"},children:[(0,a.jsx)("td",{style:{textAlign:"center"},children:(0,a.jsxs)("h1",{style:{color:"white",background:"#494949",fontWeight:"bold"},children:[" 300 ",h.experience.icon]})}),(0,a.jsx)("td",{style:{textAlign:"center"},children:(0,a.jsxs)("h1",{style:{color:"white",background:"#494949",fontWeight:"bold"},children:[" 300 ",h.experience.icon]})}),(0,a.jsx)("td",{style:{textAlign:"center"},children:(0,a.jsxs)("h1",{style:{color:"white",background:"#494949",fontWeight:"bold"},children:[" 300 ",h.experience.icon]})}),(0,a.jsx)("td",{style:{textAlign:"center"},children:(0,a.jsxs)("h1",{style:{color:"white",background:"#494949",fontWeight:"bold"},children:[" 300 ",h.experience.icon]})})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsxs)(w.Z,{style:{backgroundColor:colorByReward(h.fire.id),borderColor:colorByReward(h.fire.id),width:"100%",fontWeight:"bold"},onClick:()=>e.buyElement((0,n.Map)({[h.experience.id]:300,[h.fire.id]:-100})),children:["Buy for 100 ",h.fire.icon]})}),(0,a.jsx)("td",{children:(0,a.jsxs)(w.Z,{style:{backgroundColor:colorByReward(h.water.id),borderColor:colorByReward(h.water.id),width:"100%",fontWeight:"bold"},onClick:()=>e.buyElement((0,n.Map)({[h.experience.id]:300,[h.water.id]:-100})),children:["Buy for 100 ",h.water.icon]})}),(0,a.jsx)("td",{children:(0,a.jsxs)(w.Z,{style:{backgroundColor:colorByReward(h.earth.id),borderColor:colorByReward(h.earth.id),width:"100%",fontWeight:"bold"},onClick:()=>e.buyElement((0,n.Map)({[h.experience.id]:300,[h.earth.id]:-100})),children:["Buy for 100 ",h.earth.icon]})}),(0,a.jsx)("td",{children:(0,a.jsxs)(w.Z,{style:{backgroundColor:colorByReward(h.air.id),borderColor:colorByReward(h.air.id),width:"100%",fontWeight:"bold"},onClick:()=>e.buyElement((0,n.Map)({[h.experience.id]:300,[h.air.id]:-100})),children:["Buy for 100 ",h.air.icon]})})]})]})})})}),ec=s.memo(function(e){var t,r,o,l,s,d,c,u,m,g,f,p,y,x,b,v,j,S,k,B,F,N,C,M,R,E,I,A,T,W,L;let _=[1,2,5,10,25,50,100,200,250,500];return(0,a.jsx)("div",{style:{background:"#181818",marginTop:"20px",paddingTop:"10px",paddingBottom:"10px",height:"420px",display:"block",overflowY:"auto"},children:(0,a.jsx)("table",{className:"invisibleTable",style:{display:"table",width:"100%"},children:(0,a.jsxs)("tbody",{children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsxs)("p",{style:{color:"white",paddingLeft:"10px",fontWeight:"bold"},children:[void 0===e.info.get("soulBonus")?0:5*e.info.get("soulBonus"),"% bonus to ",h.soul.icon," gained in reincarnation (Max:50%)"]})}),(0,a.jsx)("td",{style:{textAlign:"right",paddingRight:"10px"},children:(0,a.jsx)(w.Z,{style:{backgroundColor:"#6064dc",borderColor:"#6064dc",width:"100%",fontWeight:"bold"},disabled:Number(null!==(t=e.info.get("soulBonus"))&&void 0!==t?t:0)>=10,onClick:()=>{var t;return e.buyEnhancement("soulBonus",(0,n.Map)({[h.soul.id]:-_[Number(null!==(t=e.info.get("soulBonus"))&&void 0!==t?t:0)]}))},children:Number(null!==(r=e.info.get("soulBonus"))&&void 0!==r?r:0)>=10?"Purchased":"+5% for "+_[Number(null!==(o=e.info.get("soulBonus"))&&void 0!==o?o:0)]+" "+h.soul.icon})})]},"soulBonus"),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsxs)("p",{style:{color:"white",paddingLeft:"10px",fontWeight:"bold"},children:["Shop cooldown: ",void 0===e.info.get("shopcd")?0:-e.info.get("shopcd")," cooldown (Max:10)"]})}),(0,a.jsx)("td",{style:{textAlign:"right",paddingRight:"10px"},children:(0,a.jsx)(w.Z,{style:{backgroundColor:"#6064dc",borderColor:"#6064dc",width:"100%",fontWeight:"bold"},disabled:Number(null!==(l=e.info.get("shopcd"))&&void 0!==l?l:0)>=10,onClick:()=>{var t;return e.buyEnhancement("shopcd",(0,n.Map)({[h.soul.id]:-_[Number(null!==(t=e.info.get("shopcd"))&&void 0!==t?t:0)]}))},children:Number(null!==(s=e.info.get("shopcd"))&&void 0!==s?s:0)>=10?"Purchased":"-1 second for "+_[Number(null!==(d=e.info.get("shopcd"))&&void 0!==d?d:0)]+" "+h.soul.icon})})]},"shopcd"),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsxs)("p",{style:{color:"white",paddingLeft:"10px",fontWeight:"bold"},children:["Shop Artifact Luck: ",void 0===e.info.get("shopal")?0:e.info.get("shopal")," luck (Max:10)"]})}),(0,a.jsx)("td",{style:{textAlign:"right",paddingRight:"10px"},children:(0,a.jsx)(w.Z,{style:{backgroundColor:"#6064dc",borderColor:"#6064dc",width:"100%",fontWeight:"bold"},disabled:Number(null!==(c=e.info.get("shopal"))&&void 0!==c?c:0)>=10,onClick:()=>{var t;return e.buyEnhancement("shopal",(0,n.Map)({[h.soul.id]:-_[Number(null!==(t=e.info.get("shopal"))&&void 0!==t?t:0)]}))},children:Number(null!==(u=e.info.get("shopal"))&&void 0!==u?u:0)>=10?"Purchased":"+1 luck for "+_[Number(null!==(m=e.info.get("shopal"))&&void 0!==m?m:0)]+" "+h.soul.icon})})]},"shopal"),(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:2,children:(0,a.jsxs)("p",{style:{color:"white",paddingLeft:"10px",fontWeight:"bold"},children:["Current odds for artifacts are",(0,a.jsxs)("span",{style:{color:colorByRarity(1)},children:[" Common ",Number((70-Number(null!==(g=e.info.get("shopal"))&&void 0!==g?g:0))*100/(100-Number(null!==(f=e.info.get("shopal"))&&void 0!==f?f:0))).toFixed(1),"% "]}),(0,a.jsxs)("span",{style:{color:colorByRarity(2)},children:["Rare ",Number(2500/(100-Number(null!==(p=e.info.get("shopal"))&&void 0!==p?p:0))).toFixed(1),"% "]}),(0,a.jsxs)("span",{style:{color:colorByRarity(3)},children:["Epic ",Number(400/(100-Number(null!==(y=e.info.get("shopal"))&&void 0!==y?y:0))).toFixed(1),"% "]}),(0,a.jsxs)("span",{style:{color:colorByRarity(4)},children:["Legendary ",Number(100/(100-Number(null!==(x=e.info.get("shopal"))&&void 0!==x?x:0))).toFixed(2),"% "]})]})})},"shopal2"),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsxs)("p",{style:{color:"white",paddingLeft:"10px",fontWeight:"bold"},children:["Shop Relic Luck: ",void 0===e.info.get("shoprl")?0:e.info.get("shoprl")," luck (Max:10)"]})}),(0,a.jsx)("td",{style:{textAlign:"right",paddingRight:"10px"},children:(0,a.jsx)(w.Z,{style:{backgroundColor:"#6064dc",borderColor:"#6064dc",width:"100%",fontWeight:"bold"},disabled:Number(null!==(b=e.info.get("shoprl"))&&void 0!==b?b:0)>=10,onClick:()=>{var t;return e.buyEnhancement("shoprl",(0,n.Map)({[h.soul.id]:-_[Number(null!==(t=e.info.get("shoprl"))&&void 0!==t?t:0)]}))},children:Number(null!==(v=e.info.get("shoprl"))&&void 0!==v?v:0)>=10?"Purchased":"+1 luck for "+_[Number(null!==(j=e.info.get("shoprl"))&&void 0!==j?j:0)]+" "+h.soul.icon})})]},"shoprl"),(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:2,children:(0,a.jsxs)("p",{style:{color:"white",paddingLeft:"10px",fontWeight:"bold"},children:["Current odds for relics are",(0,a.jsxs)("span",{style:{color:colorByRarity(2)},children:[" Rare ",Number((90-Number(null!==(S=e.info.get("shoprl"))&&void 0!==S?S:0))*100/(100-Number(null!==(k=e.info.get("shoprl"))&&void 0!==k?k:0))).toFixed(1),"% "]}),(0,a.jsxs)("span",{style:{color:colorByRarity(3)},children:["Epic ",Number(800/(100-Number(null!==(B=e.info.get("shoprl"))&&void 0!==B?B:0))).toFixed(1),"% "]}),(0,a.jsxs)("span",{style:{color:colorByRarity(4)},children:["Legendary ",Number(200/(100-Number(null!==(F=e.info.get("shoprl"))&&void 0!==F?F:0))).toFixed(2),"% "]})]})})},"shoprl2"),e.maxlevel<30?null:e.maxlevel<35?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:2,children:(0,a.jsx)("p",{style:{padding:"10px",color:"white",background:"#494949",fontWeight:"bold"},children:" \uD83D\uDD12 Reach level 35 to unlock \uD83D\uDD12"})})}):h.currencies.map(t=>{var r,o,l;return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsxs)("p",{style:{color:"white",paddingLeft:"10px",fontWeight:"bold"},children:["Boost ",t.icon," artifacts: ",void 0===e.info.get(t.id+"bst")?0:3*e.info.get(t.id+"bst"),"% applied on reincarnation (Max:30%)"]})}),(0,a.jsx)("td",{style:{textAlign:"right",paddingRight:"10px"},children:(0,a.jsx)(w.Z,{style:{backgroundColor:"#6064dc",borderColor:"#6064dc",width:"100%",fontWeight:"bold"},disabled:Number(null!==(r=e.info.get(t.id+"bst"))&&void 0!==r?r:0)>=10,onClick:()=>{var r;return e.buyEnhancement(t.id+"bst",(0,n.Map)({[h.soul.id]:-_[Number(null!==(r=e.info.get(t.id+"bst"))&&void 0!==r?r:0)]}))},children:Number(null!==(o=e.info.get(t.id+"bst"))&&void 0!==o?o:0)>=10?"Purchased":"3% for "+_[Number(null!==(l=e.info.get(t.id+"bst"))&&void 0!==l?l:0)]+" "+h.soul.icon})})]},t.id)}),e.maxlevel<45?null:e.maxlevel<50?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:2,children:(0,a.jsx)("p",{style:{padding:"10px",color:"white",background:"#494949",fontWeight:"bold"},children:" \uD83D\uDD12 Reach level 50 to unlock \uD83D\uDD12"})})}):[(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsxs)("p",{style:{color:"white",paddingLeft:"10px",fontWeight:"bold"},children:["Boost relic merge absortion rate: +",void 0===e.info.get("mergebst")?0:2*e.info.get("mergebst"),"% (Max:20%)"]})}),(0,a.jsx)("td",{style:{textAlign:"right",paddingRight:"10px"},children:(0,a.jsx)(w.Z,{style:{backgroundColor:"#6064dc",borderColor:"#6064dc",width:"100%",fontWeight:"bold"},disabled:Number(null!==(N=e.info.get("mergebst"))&&void 0!==N?N:0)>=10,onClick:()=>{var t;return e.buyEnhancement("mergebst",(0,n.Map)({[h.soul.id]:-_[Number(null!==(t=e.info.get("mergebst"))&&void 0!==t?t:0)]}))},children:Number(null!==(C=e.info.get("mergebst"))&&void 0!==C?C:0)>=10?"Purchased":"2% for "+_[Number(null!==(M=e.info.get("mergebst"))&&void 0!==M?M:0)]+" "+h.soul.icon})})]},"mergebst"),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsxs)("p",{style:{color:"white",paddingLeft:"10px",fontWeight:"bold"},children:["Fight reward double chance: +",void 0===e.info.get("doubleC")?0:2*e.info.get("doubleC"),"% (Max:20%)"]})}),(0,a.jsx)("td",{style:{textAlign:"right",paddingRight:"10px"},children:(0,a.jsx)(w.Z,{style:{backgroundColor:"#6064dc",borderColor:"#6064dc",width:"100%",fontWeight:"bold"},disabled:Number(null!==(R=e.info.get("doubleC"))&&void 0!==R?R:0)>=10,onClick:()=>{var t;return e.buyEnhancement("doubleC",(0,n.Map)({[h.soul.id]:-_[Number(null!==(t=e.info.get("doubleC"))&&void 0!==t?t:0)]}))},children:Number(null!==(E=e.info.get("doubleC"))&&void 0!==E?E:0)>=10?"Purchased":"2% for "+_[Number(null!==(I=e.info.get("doubleC"))&&void 0!==I?I:0)]+" "+h.soul.icon})})]},"doubleC"),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsxs)("p",{style:{color:"white",paddingLeft:"10px",fontWeight:"bold"},children:["Artifact Battle stats multiplier: x",void 0===e.info.get("aBStatsMult")?1:e.info.get("aBStatsMult")+1," (Max:x10)"]})}),(0,a.jsx)("td",{style:{textAlign:"right",paddingRight:"10px"},children:(0,a.jsx)(w.Z,{style:{backgroundColor:"#6064dc",borderColor:"#6064dc",width:"100%",fontWeight:"bold"},disabled:Number((null!==(A=e.info.get("aBStatsMult"))&&void 0!==A?A:0)+1)>=10,onClick:()=>{var t;return e.buyEnhancement("aBStatsMult",(0,n.Map)({[h.soul.id]:-_[Number((null!==(t=e.info.get("aBStatsMult"))&&void 0!==t?t:0)+1)]}))},children:Number((null!==(T=e.info.get("aBStatsMult"))&&void 0!==T?T:0)+1)>=10?"Purchased":"x"+Number((null!==(W=e.info.get("aBStatsMult"))&&void 0!==W?W:0)+2)+" for "+_[Number((null!==(L=e.info.get("aBStatsMult"))&&void 0!==L?L:0)+1)]+" "+h.soul.icon})})]},"aBStatsMult")]]})})})}),eh=s.memo(function(e){let[t,r]=(0,s.useState)({}),[o,l]=(0,s.useState)({});(0,s.useEffect)(()=>{if(void 0!==t.effect){var o,a,s;let c=.2+Number(.02*e.mergebst),h=e.relic.effect();if(void 0!==t.effect().get("mission")){let e=(0,d.scale)((0,n.Map)(t.effect().get("mission")),c);h=h.set("mission",(0,d.add)((0,n.Map)(null!==(o=h.get("mission"))&&void 0!==o?o:{}),e).toObject())}if(void 0!==t.effect().get("artifactBonus")){let e=(0,d.scale)((0,n.Map)(t.effect().get("artifactBonus")),c);h=h.set("artifactBonus",(0,d.add)((0,n.Map)(null!==(a=h.get("artifactBonus"))&&void 0!==a?a:{}),e).toObject())}if(void 0!==t.effect().get("statBonus")){let e=(0,d.scale)((0,n.Map)(t.effect().get("statBonus")),c);h=h.set("statBonus",(0,d.add)((0,n.Map)(null!==(s=h.get("statBonus"))&&void 0!==s?s:{}),e).toObject())}let u={...e.relic,effect:()=>h,id:(0,$.Z)()};r({}),l(u)}},[e.relic.id,e.items,e.mergebst]);let c=(0,s.useMemo)(()=>t=>{var o,a,s;let c=e.relic.effect(),h=t.effect(),u=.2+Number(.02*e.mergebst);if(void 0!==h.get("mission")){let e=(0,d.scale)((0,n.Map)(t.effect().get("mission")),u);c=c.set("mission",(0,d.add)((0,n.Map)(null!==(o=c.get("mission"))&&void 0!==o?o:{}),e).toObject())}if(void 0!==h.get("artifactBonus")){let e=(0,d.scale)((0,n.Map)(t.effect().get("artifactBonus")),u);c=c.set("artifactBonus",(0,d.add)((0,n.Map)(null!==(a=c.get("artifactBonus"))&&void 0!==a?a:{}),e).toObject())}if(void 0!==h.get("statBonus")){let e=(0,d.scale)((0,n.Map)(t.effect().get("statBonus")),u);c=c.set("statBonus",(0,d.add)((0,n.Map)(null!==(s=c.get("statBonus"))&&void 0!==s?s:{}),e).toObject())}let m={...e.relic,effect:()=>c,id:(0,$.Z)()};r(t),l(m)},[e.relic.id,e.mergebst]);return(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{style:{color:"white",fontWeight:"bold"},children:["Absortion rate: ",20+Number(2*e.mergebst),"%"]}),(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"column",children:(0,a.jsx)("table",{style:{paddingLeft:"10px",width:"fit-content"},children:(0,a.jsx)("tbody",{children:(0,a.jsx)("tr",{children:(0,a.jsx)(es,{item:e.relic,delay:!0,place:"right"})})})})}),(0,a.jsx)("div",{className:"column",children:(0,a.jsx)("div",{style:{width:100,height:100,position:"relative",height:"100px",backgroundImage:"url(".concat(en.basePath+"/plus.png",")"),alignSelf:"center"}})}),(0,a.jsx)("div",{className:"column",children:(0,a.jsx)("table",{style:{paddingLeft:"10px",width:"fit-content"},children:(0,a.jsx)("tbody",{children:(0,a.jsx)("tr",{children:t.id&&(0,a.jsx)(es,{item:t})})})})}),(0,a.jsx)("div",{className:"column",children:(0,a.jsx)("div",{style:{width:100,height:100,position:"relative",height:"100px",backgroundImage:"url(".concat(en.basePath+"/equals.png",")"),alignSelf:"center"}})}),(0,a.jsx)("div",{className:"column",children:(0,a.jsx)("table",{style:{paddingLeft:"10px",width:"fit-content"},children:(0,a.jsx)("tbody",{children:(0,a.jsx)("tr",{children:o.id&&(0,a.jsx)(es,{item:o,delay:!0})})})})})]}),(0,a.jsx)("div",{style:{paddingTop:"15px"},children:(0,a.jsx)("table",{style:{width:"100%",height:"220px",overflowY:"auto",display:"block"},children:(0,a.jsx)("tbody",{children:(function(e,t){var r,o,l=[];for(r=0,o=-1;r<e.length;r++)r%5==0&&(l[++o]=[]),l[o].push(e[r]);return l})(e.items.filter(t=>t.type===et&&t.rarity>=3&&t.id!==e.relic.id),0).map((e,r)=>(0,a.jsx)("tr",{children:e.map(e=>(0,a.jsx)(es,{item:e,onClick:c,selected:t},e.id))},r))})})}),(0,a.jsx)("div",{style:{paddingTop:"15px",textAlign:"center"},children:(0,a.jsxs)(w.Z,{style:{backgroundColor:"#6064dc",borderColor:"#6064dc",width:"100%",fontWeight:"bold"},onClick:()=>{void 0!=t.id&&(e.upgradeRelic(o,(0,n.Map)({[h.soul.id]:-10}),t.id),r({}),l({}))},children:["Merge - 10 ",h.soul.icon]})})]})}),eu=s.memo(function(e){let[t,r]=(0,s.useState)([]),[o,l]=(0,s.useState)(0),[d,c]=(0,s.useState)(0),[u,m]=(0,s.useState)(""),[g,f]=(0,s.useState)({}),[p,b]=(0,s.useState)(1),[v,j]=(0,s.useState)(1);(0,s.useEffect)(()=>{if(t.length>0&&null!==e.lastMergedId&&void 0!==e.lastMergedId){let o=t.filter(t=>t.id!==e.lastMergedId);r(o),0===o.length&&(l(0),c(0),m(""))}},[e.lastMergedId]);let S=(0,s.useMemo)(()=>e=>{4===e.rarity?(f({}),r([e])):(f({}),r([...t.slice(-4),e])),l(e.rarity),m(e.type)},[t]),k=(0,s.useMemo)(()=>e=>{let o=t.filter(t=>t.id!==e.id);r(o),0===o.length&&(l(d),m(""))},[t]),fun=(r,o)=>(function(e,t){var r,o,l=[];for(r=0,o=-1;r<e.length;r++)r%5==0&&(l[++o]=[]),l[o].push(e[r]);return l})(e.items.filter(l=>(0===o||o===l.rarity)&&(""===u||u===r)&&l.type===r&&l.id!==e.relic.id&&!t.some(e=>e.id===l.id)),0).splice(r==ee?(p-1)*5:(v-1)*5,5).map((e,t)=>(0,a.jsx)("tr",{children:e.map(e=>(0,a.jsx)(es,{item:e,onClick:S,origin:"U"},e.id))},t)),rarityCost=e=>{switch(e){case 1:return(0,n.Map)({[h.fire.id]:-100,[h.water.id]:-100,[h.earth.id]:-100,[h.air.id]:-100,[h.gold.id]:-1e3});case 2:return(0,n.Map)({[h.fire.id]:-250,[h.water.id]:-250,[h.earth.id]:-250,[h.air.id]:-250,[h.gold.id]:-2500});case 3:return(0,n.Map)({[h.fire.id]:-1e3,[h.water.id]:-1e3,[h.earth.id]:-1e3,[h.air.id]:-1e3,[h.gold.id]:-1e4});case 4:return(0,n.Map)({[h.soul.id]:-5});default:return"Select items to merge"}},B=e.items.filter(e=>(0===o||o===e.rarity)&&e.type===ee).length,F=B>0?Math.ceil(B/25):1,N=e.items.filter(e=>(0===o||o===e.rarity)&&e.type===et).length,C=N>0?Math.ceil(N/25):1,changeArtifactSkip=e=>{e>0&&e<=F&&b(e)},changeRelicSkip=e=>{e>0&&e<=C&&j(e)};return F<p&&b(F),C<v&&j(C),(0,a.jsxs)("div",{style:{background:"#181818",padding:"10px"},children:[(0,a.jsxs)("div",{className:"d-flex flex-row",children:[(0,a.jsx)("div",{className:"p-1",children:void 0!==g.id?(0,a.jsx)("p",{style:{color:"white",fontWeight:"bold"},children:"Merge result was:"}):(0,a.jsxs)("p",{style:{color:"white",fontWeight:"bold"},children:["Selected:",(0,a.jsxs)("span",{style:{fontWeight:"bold",color:5===t.length||1===t.length&&4===o?"green":"red"},children:[" ",t.length,"/",4===o?1:5]})]})}),(0,a.jsx)("div",{className:"p-1 flex-grow-1 bd-highlight col-example"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(w.Z,{style:{backgroundColor:0===o||1===o?colorByRarity(1):"#333333",borderColor:"black",width:"30px",height:"30px",marginRight:"10px"},onClick:()=>{0===t.length&&(c(1===o?0:1),l(1===o?0:1))}}),(0,a.jsx)(w.Z,{style:{backgroundColor:0===o||2===o?colorByRarity(2):"#333333",borderColor:"black",width:"30px",height:"30px",marginRight:"10px"},onClick:()=>{0===t.length&&(c(2===o?0:2),l(2===o?0:2))}}),(0,a.jsx)(w.Z,{style:{backgroundColor:0===o||3===o?colorByRarity(3):"#333333",borderColor:"black",width:"30px",height:"30px",marginRight:"10px"},onClick:()=>{0===t.length&&(c(3===o?0:3),l(3===o?0:3))}}),(0,a.jsx)(w.Z,{style:{backgroundColor:0===o||4===o?colorByRarity(4):"#333333",borderColor:"black",width:"30px",height:"30px",marginRight:"10px"},onClick:()=>{0===t.length&&(c(4===o?0:4),l(4===o?0:4))}})]})]}),(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"column",children:(0,a.jsx)("table",{style:{paddingLeft:"10px",width:"fit-content",height:"105px",alignSelf:void 0!==g.id?"center":"start"},children:(0,a.jsx)("tbody",{children:(0,a.jsx)("tr",{children:void 0!==g.id?(0,a.jsx)("td",{children:(0,a.jsx)(es,{item:g,origin:"Re"})}):t.map((e,t)=>(0,a.jsx)("td",{children:(0,a.jsx)(es,{item:e,onClick:k},e.id)},t))})})})})}),(0,a.jsxs)(y.Z,{defaultActiveKey:"Artifacts",className:"mb-3",style:{paddingTop:"15px"},children:[(0,a.jsx)(x.Z,{eventKey:"Artifacts",title:"Artifacts",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("table",{style:{width:"100%",height:"135px",overflowY:"auto",display:"block"},children:(0,a.jsx)("tbody",{children:fun(ee,o)})}),(0,a.jsxs)("div",{className:"d-flex flex-row",children:[(0,a.jsx)("div",{className:"p-2",children:(0,a.jsx)(w.Z,{style:{color:"white",fontWeight:"bold",backgroundColor:"#494949",borderColor:"#494949"},onClick:()=>changeArtifactSkip(p-1),children:"<<"})}),(0,a.jsx)("div",{className:"p-2 flex-grow-1 bd-highlight col-example",children:(0,a.jsxs)("p",{style:{color:"white",fontWeight:"bold",textAlign:"center"},children:["Page ",p," of ",F]})}),(0,a.jsx)("div",{className:"p-2",children:(0,a.jsx)(w.Z,{style:{color:"white",fontWeight:"bold",backgroundColor:"#494949",borderColor:"#494949"},onClick:()=>changeArtifactSkip(p+1),children:">>"})})]})]})}),(0,a.jsx)(x.Z,{eventKey:"Relics",title:"Relics",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("table",{style:{width:"100%",height:"135px",overflowY:"auto",display:"block"},children:(0,a.jsx)("tbody",{children:fun(et,o)})}),(0,a.jsxs)("div",{className:"d-flex flex-row",children:[(0,a.jsx)("div",{className:"p-2",children:(0,a.jsx)(w.Z,{style:{color:"white",fontWeight:"bold",backgroundColor:"#494949",borderColor:"#494949"},onClick:()=>changeRelicSkip(v-1),children:"<<"})}),(0,a.jsx)("div",{className:"p-2 flex-grow-1 bd-highlight col-example",children:(0,a.jsxs)("p",{style:{color:"white",fontWeight:"bold",textAlign:"center"},children:["Page ",v," of ",C]})}),(0,a.jsx)("div",{className:"p-2",children:(0,a.jsx)(w.Z,{style:{color:"white",fontWeight:"bold",backgroundColor:"#494949",borderColor:"#494949"},onClick:()=>changeRelicSkip(v+1),children:">>"})})]})]})})]}),(0,a.jsx)("div",{style:{paddingTop:"15px",textAlign:"center"},children:(0,a.jsx)(w.Z,{style:{backgroundColor:"#6064dc",borderColor:"#6064dc",width:"100%",fontWeight:"bold"},onClick:()=>{if((5===t.length||1===t.length&&4===o)&&o>0&&""!==u){let a=u===ee?generate_artifact:generate_relic,s=a(e.level,{aBStatsMult:e.aBStatsMult},Math.min(o+1,4));s={...s,cost:()=>rarityCost(o)},e.buy(s,!1,t)&&(f(s),r([]),l(d),m(""))}},children:(e=>{switch(e){case 1:return"Merge items 100".concat(h.fire.icon," 100").concat(h.water.icon," 100").concat(h.earth.icon," 100").concat(h.air.icon," 1000").concat(h.gold.icon," ");case 2:return"Merge items 250".concat(h.fire.icon," 250").concat(h.water.icon," 250").concat(h.earth.icon," 250").concat(h.air.icon," 2500").concat(h.gold.icon," ");case 3:return"Merge items 1000".concat(h.fire.icon," 1000").concat(h.water.icon," 1000").concat(h.earth.icon," 1000").concat(h.air.icon," 10000").concat(h.gold.icon," ");case 4:return"Reroll item 5".concat(h.soul.icon);default:return"Select items to merge"}})(o)})})]})}),em=s.memo(function(e){let t=e.maxlevel<25?(0,a.jsx)(x.Z,{eventKey:"unlock25",title:"\uD83D\uDD12 Reach level 25 to unlock \uD83D\uDD12",disabled:!0}):(0,a.jsx)(x.Z,{eventKey:"SoulEnhancement",title:"Soul Enhancement",children:(0,a.jsx)(ec,{info:e.info,buyEnhancement:e.buyEnhancement,maxlevel:e.maxlevel})}),r=e.maxlevel<35?null:e.maxlevel<40?(0,a.jsx)(x.Z,{eventKey:"unlock40",title:"\uD83D\uDD12 Reach level 40 to unlock \uD83D\uDD12",disabled:!0}):(0,a.jsx)(x.Z,{eventKey:"MergeRelic",title:"Relic Transfusion",children:(0,a.jsx)(eh,{upgradeRelic:e.upgradeRelic,items:e.items,relic:e.relic,mergebst:e.mergebst})}),o=e.maxlevel<40?null:e.maxlevel<45?(0,a.jsx)(x.Z,{eventKey:"unlock45",title:"\uD83D\uDD12 Reach level 45 to unlock \uD83D\uDD12",disabled:!0}):(0,a.jsx)(x.Z,{eventKey:"MergeItems",title:"Item fusion",children:(0,a.jsx)(eu,{items:e.items,relic:e.relic,buy:e.buy,level:e.level,aBStatsMult:e.aBStatsMult,lastMergedId:e.lastMergedId})});return(0,a.jsxs)(y.Z,{defaultActiveKey:"SoulShop",className:"mb-3",children:[(0,a.jsx)(x.Z,{eventKey:"SoulShop",title:"Soul Shop",children:(0,a.jsx)(ed,{buyElement:e.buyElement})}),t,r,o]})}),eg=s.memo(function(e){let[t,r]=(0,s.useState)(1);if(void 0===e.relic.id)return null;let o=e.relic.effect(),l=e.relic.statEffect,addReward=r=>{let l=(0,d.add)(relicBuff(r,t),o);console.log(l);let a={...e.relic,id:(0,$.Z)(),effect:()=>l};e.upgradeRelic(a,relicCost(r,t))},addStatReward=r=>{let o=(0,d.add)(relicBuff(r,t),l),a={...e.relic,id:(0,$.Z)(),statEffect:o};e.upgradeRelic(a,relicCost(r,t))},toogleButtonStyle=e=>({backgroundColor:e?"#005256":"#068488",borderColor:"#181818",fontWeight:"bold",width:"100px"});return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{style:{textAlign:"-webkit-center"},children:(0,a.jsx)("table",{style:{paddingLeft:"10px"},children:(0,a.jsx)("tbody",{children:(0,a.jsx)("tr",{children:(0,a.jsx)(es,{item:e.relic,delay:!0,place:"right"})})})})}),(0,a.jsx)("div",{style:{paddingBottom:"10px",paddingTop:"10px",paddingRight:"17px",marginTop:"10px",textAlign:"right",background:"#181818"},children:(0,a.jsxs)(B.Z,{type:"radio",name:"purchase-amount",children:[(0,a.jsx)(k.Z,{style:toogleButtonStyle(1===t),value:1,checked:1===t,onChange:e=>r(1),children:"x1"}),(0,a.jsx)(k.Z,{style:toogleButtonStyle(10===t),value:10,checked:10===t,onChange:e=>r(10),children:"x10"}),(0,a.jsx)(k.Z,{style:toogleButtonStyle(100===t),value:100,checked:100===t,onChange:e=>r(100),children:"x100"})]})}),(0,a.jsx)("div",{style:{background:"#181818",paddingTop:"5px",paddingBottom:"5px",display:"block",overflowY:"auto",height:"300px"},children:(0,a.jsx)("table",{className:"invisibleTable",style:{display:"table",width:"100%"},children:(0,a.jsxs)("tbody",{children:[h.currencies.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsxs)("p",{style:{color:"green",paddingLeft:"10px",fontWeight:"bold"},children:[Number(o.get(e.id)||0).toFixed(3)," ",e.icon," /s "]})}),(0,a.jsx)("td",{style:{textAlign:"right",paddingRight:"10px"},children:(0,a.jsx)(w.Z,{style:{backgroundColor:colorByReward(e.id),borderColor:colorByReward(e.id),width:"70%",fontWeight:"bold"},onClick:()=>addReward(e),children:relicBuffText(e,t)})})]},e.id)),e.maxlevel<30?null:e.maxlevel<35?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:2,children:(0,a.jsx)("p",{style:{padding:"10px",color:"white",background:"#494949",fontWeight:"bold"},children:" \uD83D\uDD12 Reach level 35 to unlock \uD83D\uDD12"})})}):V.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsxs)("p",{style:{color:"white",paddingLeft:"10px",fontWeight:"bold"},children:[Number(Number(l.get(e.id)||0).toFixed(1))," ",e.icon,"  "]})}),(0,a.jsx)("td",{style:{textAlign:"right",paddingRight:"10px"},children:(0,a.jsx)(w.Z,{style:{backgroundColor:"white",borderColor:"white",color:"black",width:"70%",fontWeight:"bold"},onClick:()=>addStatReward(e),children:relicBuffText(e,t)})})]},e.id))]})})})]})}),ef=r(7022);function PrestigeModal(e){var t,r,o,l,u,m,g,f,p,y,x,b;let[v,S]=(0,s.useState)(!0),handleClose=()=>{S(!1),e.onClose()},k=null!==(t=e.soulBoosts.get("soulBonus"))&&void 0!==t?t:0,B=(0,n.Map)();h.currencies.forEach(t=>{var r,o;Number(null!==(r=e.soulBoosts.get(t.id+"bst"))&&void 0!==r?r:0)>0&&(B=B.set(t.id,.03*Number(null!==(o=e.soulBoosts.get(t.id+"bst"))&&void 0!==o?o:0)))});let F=(0,d.add)(...e.skills.map(e=>(0,d.scale)((0,n.Map)(e.price),.2)).values()),N=(0,d.add)(e.relic.effect(),(0,d.scale)(e.activeRelic.effect(),-1)),C=(0,d.add)((0,d.scale)(e.ledger,-1),(0,d.scale)(e.relic.effect(),.2),F),M=(0,d.add)((0,d.scale)((0,n.Map)(null!==(r=e.activeRelic.effect().get("mission"))&&void 0!==r?r:{}),-1),(0,n.Map)(null!==(o=e.relic.effect().get("mission"))&&void 0!==o?o:{})),R=(0,d.add)((0,d.scale)((0,n.Map)(null!==(l=e.activeRelic.effect().get("artifactBonus"))&&void 0!==l?l:{}),-1),(0,n.Map)(null!==(u=e.relic.effect().get("artifactBonus"))&&void 0!==u?u:{})),E=(0,d.add)((0,d.scale)((0,n.Map)(null!==(m=e.activeRelic.effect().get("statBonus"))&&void 0!==m?m:{}),-1),(0,n.Map)(null!==(g=e.relic.effect().get("statBonus"))&&void 0!==g?g:{})),I=(0,d.add)((0,d.scale)(e.activeRelic.statEffect,-1),e.relic.statEffect),A=(0,d.scale)((0,d.add)(e.artifactStats,e.missionStats),-1),T=(0,d.add)((0,d.scale)(e.boostLedger,-1),(0,n.Map)(null!==(f=e.relic.effect().get("mission"))&&void 0!==f?f:{})),L=(0,d.add)((0,d.scale)(e.artifactBonusLedger,-1),(0,n.Map)(null!==(p=e.relic.effect().get("artifactBonus"))&&void 0!==p?p:{}),B),_=(0,d.add)((0,d.scale)(e.statBonusLedger,-1),(0,n.Map)(null!==(y=e.relic.effect().get("statBonus"))&&void 0!==y?y:{}));return(0,a.jsx)(j.Z,{dialogClassName:"box-modal",show:v,onHide:handleClose,children:(0,a.jsxs)("div",{style:{backgroundColor:"#333333",color:"white",fontWeight:"bold"},children:[(0,a.jsx)(j.Z.Header,{children:(0,a.jsx)(j.Z.Title,{style:{fontWeight:"bold"},children:"Confirm Prestige"})}),(0,a.jsxs)(j.Z.Body,{children:[(0,a.jsxs)("div",{class:"row",children:[(0,a.jsxs)("div",{class:"column",children:[(0,a.jsx)("p",{style:{marginLeft:"50px"},children:"Old Relic"}),(0,a.jsx)("table",{style:{width:"fit-content",marginLeft:"50px"},children:(0,a.jsx)("tbody",{children:(0,a.jsx)("tr",{children:(0,a.jsx)(es,{item:e.activeRelic,origin:"L",delay:!0,place:"left"})})})})]}),(0,a.jsx)("div",{class:"column",children:(0,a.jsx)("div",{style:{width:100,height:100,marginTop:"40px",position:"relative",height:"100px",backgroundImage:"url(".concat(ef.basePath+"/arrow.png",")"),alignSelf:"center"}})}),(0,a.jsxs)("div",{class:"column",children:[(0,a.jsx)("p",{children:"New Relic"}),(0,a.jsx)("table",{style:{width:"fit-content"},children:(0,a.jsx)("tbody",{children:(0,a.jsx)("tr",{children:(0,a.jsx)(es,{item:e.relic,origin:"R",delay:!0,place:"right"})})})})]})]}),(0,a.jsx)("p",{style:{marginTop:"10px"},children:"Relic changes and gains"}),(0,a.jsxs)("div",{style:{width:"100%",height:"150px",overflowY:"auto",display:"block",background:"#181818"},children:[(0,a.jsxs)("p",{style:{color:"green",paddingLeft:"10px",fontWeight:"bold"},children:["+",Number(Number(e.level*(1+.05*k)*(1+Number(null!==(x=e.artifactBonusLedger.get(h.soul.id))&&void 0!==x?x:0))).toFixed(2))," ",h.soul.icon,"(",Number(Number(1*(1+.05*k)*(1+Number(null!==(b=e.artifactBonusLedger.get(h.soul.id))&&void 0!==b?b:0))).toFixed(2))," per level)"]}),h.currencies.map(e=>0!=N.get(e.id)&&N.get(e.id)&&(0,a.jsxs)("p",{style:{color:N.get(e.id)>0?"green":"red",paddingLeft:"10px",fontWeight:"bold"},children:[N.get(e.id)>0?"+":"",Number(N.get(e.id)||0).toFixed(3)," ",e.icon," /s "]},e.id)),M.entrySeq().sort(function(e,t){let[r,o]=e,[l,a]=t;return!isNaN(l)&&isNaN(r)?-1:a-o}).map(e=>{let[t,r]=e;return 0===r?null:h.elements.some(e=>e.id==t)?(0,a.jsxs)("p",{style:{color:r>0?"green":"red",paddingLeft:"10px",fontWeight:"bold"},children:[r>0?"+":"",Number(100*r).toFixed(0),"% boost for ",(0,h.currencyById)(t).icon," actions"]},t):(0,a.jsxs)("p",{style:{color:r>0?"green":"red",paddingLeft:"10px",fontWeight:"bold"},children:[r>0?"+":"",Number(100*r).toFixed(0),"% boost for ",c.missions[t].text]},t)}),R.entrySeq().sort(function(e,t){let[r,o]=e,[l,a]=t;return!isNaN(l)&&isNaN(r)?-1:a-o}).map(e=>{let[t,r]=e;return 0===r?null:h.currencies.some(e=>e.id==t)?(0,a.jsxs)("p",{style:{color:r>0?"green":"red",paddingLeft:"10px",fontWeight:"bold"},children:[r>0?"+":"",Number(100*r).toFixed(0),"% boost for ",(0,h.currencyById)(t).icon," artifacts"]},t):h.soul.id==t?(0,a.jsxs)("p",{style:{color:r>0?"green":"red",paddingLeft:"10px",fontWeight:"bold"},children:[r>0?"+":"",Number(100*r).toFixed(0),"% boost for ",h.soul.icon," on reincarnation"]},t):null}),E.entrySeq().sort(function(e,t){let[r,o]=e,[l,a]=t;return!isNaN(l)&&isNaN(r)?-1:a-o}).map(e=>{let[t,r]=e;return 0===r?null:V.some(e=>e.id==t)?(0,a.jsxs)("p",{style:{color:r>0?"green":"red",paddingLeft:"10px",fontWeight:"bold"},children:[r>0?"+":"",Number(100*r).toFixed(0),"% boost for ",statById(t).icon]},t):null}),V.map(e=>0!=I.get(e.id)&&I.get(e.id)&&(0,a.jsxs)("p",{style:{color:I.get(e.id)>0?"green":"red",paddingLeft:"10px"},children:[I.get(e.id)>0?"+":"",Number(Number(I.get(e.id)||0).toFixed(1))," ",e.icon]},e.id))]}),(0,a.jsx)("p",{style:{marginTop:"10px"},children:"Lost on reincarnate"}),(0,a.jsxs)("div",{style:{width:"100%",height:"150px",overflowY:"auto",display:"block",background:"#181818"},children:[h.currencies.map(e=>0>C.get(e.id)&&C.get(e.id)&&(0,a.jsxs)("p",{style:{color:C.get(e.id)>0?"green":"red",paddingLeft:"10px",fontWeight:"bold"},children:[Number(5*C.get(e.id)||0).toFixed(3)," ",e.icon," /s "]},e.id)),V.map(e=>void 0!==A&&0!=A.get(e.id)&&A.get(e.id)&&(0,a.jsxs)("p",{style:{color:"red",paddingLeft:"10px"},children:[Number(Number(A.get(e.id)||0).toFixed(1))," ",e.icon]},e.id)),T.entrySeq().sort(function(e,t){let[r,o]=e,[l,a]=t;return!isNaN(l)&&isNaN(r)?-1:a-o}).map(e=>{let[t,r]=e;return r>=0?null:h.elements.some(e=>e.id==t)?(0,a.jsxs)("p",{style:{color:"red",paddingLeft:"10px",fontWeight:"bold"},children:[Number(100*r).toFixed(0),"% boost for ",(0,h.currencyById)(t).icon," actions"]},t):(0,a.jsxs)("p",{style:{color:"red",paddingLeft:"10px",fontWeight:"bold"},children:[Number(100*r).toFixed(0),"% boost for ",c.missions[t].text]},t)}),L.entrySeq().sort(function(e,t){let[r,o]=e,[l,a]=t;return!isNaN(l)&&isNaN(r)?-1:a-o}).map(e=>{let[t,r]=e;return Number(100*r).toFixed(0)>=0?null:h.currencies.some(e=>e.id==t)?(0,a.jsxs)("p",{style:{color:"red",paddingLeft:"10px",fontWeight:"bold"},children:[Number(100*r).toFixed(0),"% boost for ",(0,h.currencyById)(t).icon," artifacts"]},t):h.soul.id==t?(0,a.jsxs)("p",{style:{color:"red",paddingLeft:"10px",fontWeight:"bold"},children:[Number(100*r).toFixed(0),"% boost for ",h.soul.icon," on reincarnation"]},t):null}),_.entrySeq().sort(function(e,t){let[r,o]=e,[l,a]=t;return!isNaN(l)&&isNaN(r)?-1:a-o}).map(e=>{let[t,r]=e;return r>=0?null:V.some(e=>e.id==t)?(0,a.jsxs)("p",{style:{color:"red",paddingLeft:"10px",fontWeight:"bold"},children:[Number(100*r).toFixed(0),"% boost for ",statById(t).icon]},t):null}),W.map(t=>{var r;return e.boxesState.get(t.id)&&0!==e.boxesState.get(t.id)?(0,a.jsxs)("p",{style:{color:"red",paddingLeft:"10px",fontWeight:"bold"},children:["-",Number(null!==(r=e.boxesState.get(t.id))&&void 0!==r?r:0).toFixed(0)," ",t.name]},t.id):null})]})]}),(0,a.jsxs)(j.Z.Footer,{children:[(0,a.jsx)(w.Z,{style:{color:"white",fontWeight:"bold",backgroundColor:"#494949",borderColor:"#494949"},onClick:()=>{S(!1),e.onConfirm()},children:"Confirm Prestige"}),(0,a.jsx)(w.Z,{style:{color:"white",fontWeight:"bold",backgroundColor:"#494949",borderColor:"#494949"},onClick:handleClose,children:"Cancel"})]})]})})}let ep=r(7022),ey={...generate_relic(10,0,gen_rarity_odds({1:0,2:0,3:0,4:100})),cost:()=>Map(),name:"The shopkeeper's heirloom"};function Story(e){let t=Object.keys(ex).filter(t=>t<=e.level),[r,o]=(0,s.useState)(t.length-1);return(0,s.useEffect)(()=>{o(t.length-1)},[e.level]),(0,a.jsxs)("div",{style:{backgroundColor:"#333333",height:"500px",fontWeight:"bold"},children:[(0,a.jsxs)("div",{className:"d-flex flex-row",children:[(0,a.jsx)(w.Z,{style:{color:"white",fontWeight:"bold",backgroundColor:"#494949",borderColor:"#494949"},onClick:()=>{r>0&&o(r-1)},children:"<<"}),(0,a.jsx)("div",{className:"p-2 flex-grow-1 bd-highlight col-example"}),(0,a.jsx)(w.Z,{style:{color:"white",fontWeight:"bold",backgroundColor:"#494949",borderColor:"#494949"},onClick:()=>{r<t.length-1&&o(r+1)},children:">>"})]}),(0,a.jsx)("div",{style:{backgroundColor:"#333333",padding:"20px",height:"100%"},children:(0,a.jsx)(MessageWrapper,{mkey:t[r]})})]})}function MessageWrapper(e){let{mkey:t,height:r}=e;return(0,a.jsxs)("div",{style:{display:"flex",height:"100%",minHeight:r},children:[(0,a.jsx)("div",{style:{flex:2,marginRight:"10px"},children:ex[t]}),(0,a.jsx)("div",{style:{flex:1,position:"relative"},children:(0,a.jsx)("div",{style:{width:"100%",height:"100%",position:"relative"},children:(0,a.jsx)("img",{src:ep.basePath+"/chars/"+eb[t]+".png",alt:eb[t],position:"absolute",width:"100%"})})})]})}let ex={1:(0,a.jsxs)("div",{style:{color:"#f5ab35"},children:[(0,a.jsx)("p",{children:"Ah, hello young elementalist."}),(0,a.jsx)("p",{children:"I am a little busy right now so go take a quick walk around the temple while I am finishing, I am sure you will find something interesting."})]}),3:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{style:{color:"#f5ab35"},children:[(0,a.jsx)("p",{children:"Oh, You are back already... Well I guess I can't delay it any longer."}),(0,a.jsxs)("p",{children:["I see you gathered a few elements too ",h.fire.icon,h.water.icon,h.earth.icon,h.air.icon,". I'll teach you some basic rituals, try getting used to them."]}),(0,a.jsxs)("p",{children:["You'll lose some of the elements ",h.fire.icon,h.water.icon,h.earth.icon,h.air.icon," you collected, but at least you get some experience ",h.experience.icon," and a little bit of gold ",h.gold.icon,"."]})]}),(0,a.jsxs)("div",{style:{color:"white"},children:[(0,a.jsx)("b",{children:"You have unlocked:"}),(0,a.jsx)("p",{children:"-Action: Elemental rituals"})]})]}),8:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{style:{color:"#f5ab35"},children:[(0,a.jsx)("p",{children:"What!? You are here again? I am very busy as always..."}),(0,a.jsx)("p",{children:"You want to learn a new ritual? Hmmm, I see you already mastered the ones I taught you."}),(0,a.jsxs)("p",{children:["Well, I guess I could teach You elemental transmutation. Unlike the other rituals I tought You, these allow You to tranform elements of a given type into a different one ",h.water.icon+"->"+h.fire.icon,"."]}),(0,a.jsx)("p",{children:"These rituals are a powerful tool to have in every elementalist toolbox. But more important than having learned something from someone is learning something by yourself."}),(0,a.jsx)("p",{children:"So go and master these new tools and next time try to learn the rituals by yourself instead of bothering me again!"})]}),(0,a.jsxs)("div",{style:{color:"white"},children:[(0,a.jsx)("b",{children:"You have unlocked:"}),(0,a.jsx)("p",{children:"-Action: Elemental transmutation rituals"})]})]}),10:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{style:{color:"#00a4a6"},children:[(0,a.jsx)("p",{children:"Psssht"}),(0,a.jsxs)("p",{children:["Hey kiddo, you are a elementalist right? I knew it! Well you have great luck! You see, I have acquired these brand new ",(0,a.jsx)("em",{children:"ancient"})," artifacts and I am selling them for cheap."]}),(0,a.jsx)("p",{children:"Artifacts provide a variety of buffs like this one:"}),(0,a.jsx)(es,{item:{...generate_artifact(10,0,gen_rarity_odds({1:0,2:0,3:0,4:100})),cost:()=>Map(),name:"The shopkeeper's heirloom"}}),(0,a.jsxs)("p",{children:["The colors of the artifact represent its elemental rewards ",(0,a.jsx)("a",{style:{color:colorByReward(h.fire.id)},children:"red"})," ",h.fire.icon,", ",(0,a.jsx)("a",{style:{color:colorByReward(h.water.id)},children:"blue"})," ",h.water.icon,", ",(0,a.jsx)("a",{style:{color:colorByReward(h.earth.id)},children:"green"})," ",h.earth.icon," and ",(0,a.jsx)("a",{style:{color:colorByReward(h.air.id)},children:"grey"})," ",h.air.icon,"."]}),(0,a.jsxs)("p",{children:["They also come in four different rarities ",(0,a.jsx)("a",{style:{color:colorByRarity(1)},children:rarityName(1)}),", ",(0,a.jsx)("a",{style:{color:colorByRarity(2)},children:rarityName(2)}),", ",(0,a.jsx)("a",{style:{color:colorByRarity(3)},children:rarityName(3)})," and ",(0,a.jsx)("a",{style:{color:colorByRarity(4)},children:rarityName(4)}),", with each rarity giving different types of buffs."]}),(0,a.jsx)("p",{children:"No, that one is not for sale, but I have other stuff, top notch quality too so make sure to look around!"})]}),(0,a.jsxs)("div",{style:{color:"white"},children:[(0,a.jsx)("b",{style:{textAlign:"center"},children:"You have unlocked:"}),(0,a.jsx)("p",{children:"-Shop"}),(0,a.jsx)("p",{children:"-Artifacts"})]})]}),15:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{style:{color:"#dda0dd"},children:[(0,a.jsxs)("p",{children:["Are you the new student from master ",(0,a.jsx)("b",{style:{color:"#f5ab35"},children:"Orange"}),"? Ah yes he has been quite busy recently, if I am not mistaken he started watching ☠ one piece \uD83D\uDC52."]}),(0,a.jsxs)("p",{children:["Well my name is ",(0,a.jsx)("b",{children:"Lilac"}),", I specialize in practical elementalism and since You already seem to have a good understanding of the basics I can teach you a few tecniques"]})]}),(0,a.jsxs)("div",{style:{color:"white"},children:[(0,a.jsx)("b",{children:"You have unlocked:"}),(0,a.jsx)("p",{children:"-Action: Practical elemental rituals"})]})]}),18:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{style:{color:"#00a4a6"},children:[(0,a.jsx)("p",{children:"Psssht"}),(0,a.jsx)("p",{children:"Hello again, I have got a new item supplier and he just sent me some relics."}),(0,a.jsxs)("p",{children:["Unlike artifacts, relics don't give buffs when equiped and instead you need to perform a ",(0,a.jsx)("a",{style:{color:"black"},children:"dark ritual"})," known as reincarnation to get their power."]}),(0,a.jsxs)("p",{children:[" I also have a relic in the display, but since I am not level ",(0,a.jsx)("b",{children:"20"})," I can't do anything with it:"]}),(0,a.jsx)(es,{item:ey}),(0,a.jsxs)("p",{children:["You can visually distinguish relics from artifacts by their ",(0,a.jsx)("a",{style:{color:"black"},children:"darker colors"}),". Probably something to do with that ",(0,a.jsx)("a",{style:{color:"black"},children:"dark ritual"})," I mentioned."]}),(0,a.jsxs)("p",{children:["Again, that one is not for sale. But I am sure you'll find quite a few relics in the shop next time, if I had to guess I would say that ",(0,a.jsx)("b",{children:"3 out of 10 of items I have on display are relics"}),"!"]})]}),(0,a.jsxs)("div",{style:{color:"white"},children:[(0,a.jsx)("b",{style:{textAlign:"center"},children:"You have unlocked:"}),(0,a.jsx)("p",{children:"-Relics"})]})]}),20:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{style:{color:"#00ffff"},children:[(0,a.jsxs)("p",{children:["Hello elementalist, it seems it's finally time for You to learn about reincarnation! I'm professor ",(0,a.jsx)("b",{children:"Aqua"})," and I'm a speciallist on reincarnation."]}),(0,a.jsxs)("p",{children:["Reincarnation is a special ritual where you sacrifice your level, artifacts and unused relics in exchange for your equipped relic blessing and power. Additionally You will aquire some of the sacrificed artifacts' souls ",h.soul.icon]}),(0,a.jsxs)("p",{children:["These souls ",h.soul.icon," can be used to further strengthen your relic or for some more other enhancements that I'll soon tell you about"]}),(0,a.jsx)("p",{children:"Once you're ready to reincarnate, press the level indicator at the top of the page"}),(0,a.jsx)("div",{style:{width:150,height:150,marginTop:5,marginBottom:5},children:(0,a.jsxs)(v.Wo,{value:0,background:!0,backgroundPadding:6,circleRatio:.75,styles:(0,v.y3)({rotation:.5+1/8,strokeLinecap:"butt",backgroundColor:"#3e98c7",textColor:"#fff",pathColor:"#fff",trailColor:"gray"}),children:[(0,a.jsx)("div",{style:{fontSize:12,marginTop:-5},children:(0,a.jsx)("strong",{children:"Level 20"})}),(0,a.jsx)("div",{style:{fontSize:12,marginTop:-5},children:"0 / 1000 ⭐"}),(0,a.jsx)("div",{style:{fontSize:12,marginTop:-5,fontWeight:"bold"},children:"Click this to reincarnate"})]})}),(0,a.jsx)("p",{children:"I would recommend on having at least an epic or ideally a legendary relic, but if you can't find one you can just go with the best rare you have"})]}),(0,a.jsxs)("div",{style:{color:"white"},children:[(0,a.jsx)("b",{children:"You have unlocked:"}),(0,a.jsx)("p",{children:"-Reincarnation"})]})]}),25:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{style:{color:"#dda0dd"},children:[(0,a.jsxs)("p",{children:["Hey how have you been? Unfortunately master ",(0,a.jsx)("b",{style:{color:"#f5ab35"},children:"Orange"})," is still watching ☠ one piece \uD83D\uDC52. He's still in the ☣️ punk hazard arc ☣️ so it should take a while for him to be available, in the meanwhile I'll teach you a few more practical elementalism tecniques."]}),(0,a.jsxs)("p",{children:["Also, I have spoken with professor ",(0,a.jsx)("b",{style:{color:"#00ffff"},children:"Aqua"})," and she told me that after your first reincarnation, she arranged to grant you access to the soul enhancement in the Workshop."]})]}),(0,a.jsxs)("div",{style:{color:"white"},children:[(0,a.jsx)("b",{children:"You have unlocked:"}),(0,a.jsx)("p",{children:"-Action: A few more practical elemental rituals"}),(0,a.jsx)("p",{children:"-Soul Enhancement"})]})]}),30:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{style:{color:"#f64747"},children:[(0,a.jsx)("p",{children:"ATTENTION! Hello rookies it finally came the time when we met! I am the instructor, I mean the professor for battle elementalism!"}),(0,a.jsxs)("p",{children:["My name is general ",(0,a.jsx)("b",{children:"Crimson"})," and make sure to address me as such!"]}),(0,a.jsx)("p",{children:"My goal is to shape you fine young men, into elementalist warriors capable of rivaling even the most vile of beasts. Come foward, battle awaits!"})]}),(0,a.jsxs)("div",{style:{color:"white"},children:[(0,a.jsx)("b",{children:"You have unlocked:"}),(0,a.jsx)("p",{children:"-Battle"})]})]}),35:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{style:{color:"#f64747"},children:[(0,a.jsx)("p",{children:"I was just checking You performance on the battlefield and You should feel ashamed of yourself!"}),(0,a.jsx)("p",{children:"I mean, You are not even using skills. Did you fall asleep on the class where we covered them?"}),(0,a.jsx)("p",{children:"I guess I will teach you some skills and a few battle rituals. Altough i doubt any of that will make any difference!"}),(0,a.jsx)("p",{children:"You know what, I will even teach you how to upgrade your relic for battle! Just don't forget that you need to reincarnate to get the relics power"}),(0,a.jsxs)("p",{children:["Since we are in the topic of relics and reincarnation, professor ",(0,a.jsx)("b",{style:{color:"#00ffff"},children:"Aqua"})," mentioned that some new soul enhancements were available. Something to do with boosts to elemental gains."]}),(0,a.jsx)("p",{children:"Altough I can't understand why someone would buy those instead of battle power for their relic"})]}),(0,a.jsxs)("div",{style:{color:"white"},children:[(0,a.jsx)("b",{children:"You have unlocked:"}),(0,a.jsx)("p",{children:"-Action: battle ritual"}),(0,a.jsx)("p",{children:"-Battle: skills"}),(0,a.jsx)("p",{children:"-Relic Upgrade: battle stats"}),(0,a.jsx)("p",{children:"-Soul Enhancement: artifact boosts"})]})]}),40:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{style:{color:"#00ffff"},children:[(0,a.jsx)("p",{children:"Ah, I finally found You. Your relic has become a lot difference since the last time I saw You."}),(0,a.jsxs)("p",{children:["It seems you've been almost as busy as master ",(0,a.jsx)("b",{style:{color:"#f5ab35"},children:"Orange"})," \uD83D\uDE0A."]}),(0,a.jsx)("p",{children:"I think You are ready for the next step in the relic Workshop, it is called Relic Transfusion! Since there has been an increase in relics discovered, elemental scientists developed a process to extract some of these relics power into their own relics!"}),(0,a.jsxs)("p",{children:["Unfortunately the current process only works for ",(0,a.jsx)("a",{style:{color:colorByRarity(3)},children:rarityName(3)})," and ",(0,a.jsx)("a",{style:{color:colorByRarity(4)},children:rarityName(4)})," relics, but I am sure a day will come where it will work for ",(0,a.jsx)("a",{style:{color:colorByRarity(2)},children:rarityName(2)})," relics too"]})]}),(0,a.jsxs)("div",{style:{color:"white"},children:[(0,a.jsx)("b",{children:"You have unlocked:"}),(0,a.jsx)("p",{children:"-Relic Transfusion"})]})]}),45:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{style:{color:"#00ffff"},children:[(0,a.jsxs)("p",{children:["It seems I underestimated the rarity of ",(0,a.jsx)("a",{style:{color:colorByRarity(3)},children:rarityName(3)})," and ",(0,a.jsx)("a",{style:{color:colorByRarity(4)},children:rarityName(4)})," relics. I'll let on in a secret then."]}),(0,a.jsx)("p",{children:"If You visit the workshop, you should be able to acess the item fusion station. In there you can fuse several artifacts and relics into higher rarirty ones."}),(0,a.jsxs)("p",{children:["I have heard rumors that if You use the station for a ",(0,a.jsx)("a",{style:{color:colorByRarity(4)},children:rarityName(4)})," item it changes the items bonuses, so it can be a good idea to get specific bonuses for the relic transfusion ritual."]})]}),(0,a.jsxs)("div",{style:{color:"white"},children:[(0,a.jsx)("b",{children:"You have unlocked:"}),(0,a.jsx)("p",{children:"-Item fusion"})]})]}),50:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{style:{color:"#00ffff"},children:[(0,a.jsxs)("p",{children:["I have heard news from general ",(0,a.jsx)("b",{style:{color:"#f64747"},children:"Crimson"})," about your achivements in the battlefield."]}),(0,a.jsxs)("p",{children:["After some research I was able to find some enhancements to exchange the power of souls ",h.soul.icon," power for battle related benefits."]}),(0,a.jsx)("p",{children:"Additionally I was able to find a way to improve the transfusion ritual absortion rate."}),(0,a.jsx)("p",{children:"I hope these enhancements will be able to benefit You in your quest for strengh as You fight more powerful foes."})]}),(0,a.jsxs)("div",{style:{color:"white"},children:[(0,a.jsx)("b",{children:"You have unlocked:"}),(0,a.jsx)("p",{children:"-New Soul Enhancements"})]})]}),55:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{style:{color:"#f64747"},children:[(0,a.jsx)("p",{children:"It is incredible to see your growth."}),(0,a.jsx)("p",{children:"I can't believe you came this far with those awful battle rituals. I taught them to You as a joke, I can't believe You actually still use them \uD83D\uDE02."}),(0,a.jsx)("p",{children:"I expected You would try them a few times and then realise I was messing arround and look for something better."}),(0,a.jsx)("p",{children:"I really should punish your stupidity, but I feel like using those rituals all this time was punishment enough."}),(0,a.jsx)("p",{children:"So instead I'll reward your perseverance by telling You some of the rituals I personally use."})]}),(0,a.jsxs)("div",{style:{color:"white"},children:[(0,a.jsx)("b",{children:"You have unlocked:"}),(0,a.jsx)("p",{children:"-Action: Advanced battle rituals"})]})]})},eb={1:"orange",3:"orange",8:"orange",10:"shopkeeper",15:"lilac",18:"shopkeeper",20:"aqua",25:"lilac",30:"crimson",35:"crimson",40:"aqua",45:"aqua",50:"aqua",55:"crimson"};var ev=r(1354),ej=r.n(ev);let MyComponent=class MyComponent extends s.Component{render(){return(0,a.jsxs)("div",{style:{paddingLeft:"10px",fontWeight:"bold"},children:[(0,a.jsxs)("div",{style:{color:"white"},children:[(0,a.jsx)("p",{children:"The game automatically saves every 10 seconds to the browser storage."}),(0,a.jsx)("p",{children:"You can backup your save using the buttons below."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(w.Z,{style:{backgroundColor:"#00a4a6",borderColor:"#00a4a6",fontWeight:"bold"},onClick:this.exportState,children:"Export save"}),(0,a.jsx)(w.Z,{style:{backgroundColor:"#00a4a6",borderColor:"#00a4a6",fontWeight:"bold",marginLeft:"10px"},onClick:this.importState,children:"Import save"})]}),(0,a.jsxs)("div",{style:{color:"white",paddingTop:"45px"},children:[(0,a.jsxs)("p",{children:["Consider joining the discord: ",(0,a.jsx)("a",{style:{color:"white"},href:"https://discord.gg/7BZfa3QZc7",children:"https://discord.gg/7BZfa3QZc7"})]}),(0,a.jsxs)("p",{children:["Code avaliable at: ",(0,a.jsx)("a",{style:{color:"white"},href:"https://github.com/incrementalrelic/incrementalrelic",children:"https://github.com/incrementalrelic/incrementalrelic"})]})]})]})}constructor(...e){super(...e),this.password="idle",this.exportState=()=>{let e={...this.props.saveState,inventory:this.props.saveState.inventory.map(e=>({...e,effectV:e.effect()})),shop:this.props.saveState.shop.map(e=>({...e,effectV:e.effect(),costV:e.cost()})),relic:void 0!==this.props.saveState.relic.effect?{...this.props.saveState.relic,effectV:this.props.saveState.relic.effect()}:{},activeRelic:void 0!==this.props.saveState.activeRelic.effect?{...this.props.saveState.activeRelic,effectV:this.props.saveState.activeRelic.effect()}:{}};console.log(e);let t=JSON.stringify(e),r=ej().AES.encrypt(t,this.password).toString(),o=document.createElement("a"),l=new Date().toISOString().slice(0,19);o.href="data:text/plain;charset=utf-8,".concat(r),o.download="idleR-".concat(l,".txt"),o.click()},this.importState=async()=>{try{let e=document.createElement("input");e.type="file",e.accept=".txt",e.onchange=async()=>{let t=e.files[0],r=await t.text(),o=ej().AES.decrypt(r,this.password).toString(ej().enc.Utf8),l=["wallet","ledger","boostLedger","artifactBonusLedger","statBonusLedger","stats","artifactStats","relicStats","missionStats","messagesShown","info","boxes","skills"],a=JSON.parse(o,(e,t)=>{if("object"==typeof t&&null!==t){var r,o;if("inventory"===e)return t.map(e=>({...e,effect:()=>(0,n.Map)(e.effectV),statEffect:(0,n.Map)(e.statEffect)}));if("shop"===e)return t.map(e=>({...e,effect:()=>(0,n.Map)(e.effectV),cost:()=>(0,n.Map)(e.costV),statEffect:(0,n.Map)(e.statEffect)}));if("relic"===e)return{...t,effect:()=>{var e;return(0,n.Map)(null!==(e=null==t?void 0:t.effectV)&&void 0!==e?e:{})},statEffect:(0,n.Map)(null!==(r=null==t?void 0:t.statEffect)&&void 0!==r?r:{})};if("activeRelic"===e)return{...t,effect:()=>{var e;return(0,n.Map)(null!==(e=null==t?void 0:t.effectV)&&void 0!==e?e:{})},statEffect:(0,n.Map)(null!==(o=null==t?void 0:t.statEffect)&&void 0!==o?o:{})};else if(l.includes(e))return console.log(e),console.log(t),console.log((0,n.Map)(t)),(0,n.Map)(t)}return t});console.log(a),this.props.setSaveState(a)},e.click()}catch(e){console.error("Import error:",e),alert("Import error:",e)}}}};let App=class App extends s.Component{componentDidMount(){this.setState({wallet:this.load("wallet"),ledger:this.load("ledger"),boostLedger:this.load("boostLedger"),artifactBonusLedger:this.load("artifactBonusLedger"),statBonusLedger:this.load("statBonusLedger"),stats:this.load("stats"),artifactStats:this.load("artifactStats"),relicStats:this.load("relicStats"),missionStats:this.load("missionStats"),inventory:this.load("inventory"),shop:this.load("shop"),relic:this.load("relic"),activeRelic:this.load("activeRelic"),messagesShown:this.load("messages"),info:this.load("info"),boxes:this.load("boxes"),skills:this.load("skills"),prestigeModal:!1,loading:!1}),setInterval(this.update,200),setInterval(this.save,1e4)}update(){let e=(0,d.add)(this.state.wallet,this.state.ledger);if((0,d.inTheBlack)(e))this.setState({wallet:e});else{let t=this.state.skills.filter(t=>e.get(Object.keys(t.price)[0])>=0),r=this.state.skills.filter(t=>0>e.get(Object.keys(t.price)[0])),o=r.map(e=>(0,d.scale)((0,n.Map)(e.price),-.2)).values(),l=(0,d.add)(this.state.ledger,...o);this.setState({skills:t,ledger:l})}}save(){try{localStorage.setItem("wallet",JSON.stringify(Array.from(this.state.wallet.entries()))),localStorage.setItem("ledger",JSON.stringify(Array.from(this.state.ledger.entries()))),localStorage.setItem("boostLedger",JSON.stringify(Array.from(this.state.boostLedger.entries()))),localStorage.setItem("artifactBonusLedger",JSON.stringify(Array.from(this.state.artifactBonusLedger.entries()))),localStorage.setItem("statBonusLedger",JSON.stringify(Array.from(this.state.statBonusLedger.entries()))),localStorage.setItem("stats",JSON.stringify(Array.from(this.state.stats.entries()))),localStorage.setItem("artifactStats",JSON.stringify(Array.from(this.state.artifactStats.entries()))),localStorage.setItem("relicStats",JSON.stringify(Array.from(this.state.relicStats.entries()))),localStorage.setItem("missionStats",JSON.stringify(Array.from(this.state.missionStats.entries()))),localStorage.setItem("info",JSON.stringify(Array.from(this.state.info.entries()))),localStorage.setItem("boxes",JSON.stringify(Array.from(this.state.boxes.entries()))),localStorage.setItem("skills",JSON.stringify(Array.from(this.state.skills.entries()))),localStorage.setItem("messages",JSON.stringify(Array.from(this.state.messagesShown.entries()))),localStorage.setItem("inventory",JSON.stringify(this.state.inventory.map(e=>({...e,effectV:e.effect()})))),localStorage.setItem("shop",JSON.stringify(this.state.shop.map(e=>({...e,effectV:e.effect(),costV:e.cost()}))));var e=this.state.relic;localStorage.setItem("relic",JSON.stringify(void 0!==e.effect?{...e,effectV:e.effect()}:{}));var t=this.state.activeRelic;localStorage.setItem("activeRelic",JSON.stringify(void 0!==t.effect?{...t,effectV:t.effect()}:{}))}catch(e){return!1}}load(e){console.log("load "+e);try{if("relic"===e){var t,r=JSON.parse(localStorage.getItem(e));return{...r,effect:()=>{var e;return(0,n.Map)(null!==(e=null==r?void 0:r.effectV)&&void 0!==e?e:{})},statEffect:(0,n.Map)(null!==(t=null==r?void 0:r.statEffect)&&void 0!==t?t:{})}}if("activeRelic"===e){var o,l=JSON.parse(localStorage.getItem(e));return{...l,effect:()=>{var e;return(0,n.Map)(null!==(e=null==l?void 0:l.effectV)&&void 0!==e?e:{})},statEffect:(0,n.Map)(null!==(o=null==l?void 0:l.statEffect)&&void 0!==o?o:{})}}}catch(e){return console.log(e),{}}try{if("inventory"===e)return JSON.parse(localStorage.getItem(e)).map(e=>({...e,effect:()=>(0,n.Map)(e.effectV),statEffect:(0,n.Map)(e.statEffect)}));if("shop"===e)return JSON.parse(localStorage.getItem(e)).map(e=>({...e,effect:()=>(0,n.Map)(e.effectV),cost:()=>(0,n.Map)(e.costV),statEffect:(0,n.Map)(e.statEffect)}))}catch(e){return console.log(e),[]}try{console.log(e);var a=localStorage.getItem(e);if("wallet"===e)return null!=a?new n.Map(JSON.parse(a)):(0,n.Map)({[h.fire.id]:3,[h.water.id]:3,[h.earth.id]:3,[h.air.id]:3});return null!=a?new n.Map(JSON.parse(a)):(0,n.Map)()}catch(e){return(0,n.Map)()}}updateShop(e){console.log("here"),console.log(e),this.setState({shop:e})}onClickSetSkills(e){let t=void 0==this.state.skills.get(e.id),r=t?this.state.skills.set(e.id,e):this.state.skills.remove(e.id),o=t?(0,n.Map)(e.price):(0,n.Map)(e.price).map(e=>-1*e),l=(0,d.scale)(o,.2),a=(0,d.add)(l,this.state.ledger);this.setState({skills:r,ledger:a})}buyItem(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e=Array.isArray(e)?e:[e];let o=this.state.wallet,l=this.state.boxes;for(let r=0;r<e.length;r++)if(t){if(l=(0,d.buy)(e[r],l),!(0,d.inTheBlack)(l))return!1;l=(0,d.addItem)(e[r],l)}else{if(o=(0,d.buy)(e[r],o),!(0,d.inTheBlack)(o))return!1;o=(0,d.addItem)(e[r],o)}let a=(0,d.add)(this.state.artifactStats,...e.map(e=>e.statEffect),...r.map(e=>(0,d.scale)(e.statEffect,-1))),s=this.state.artifactBonusLedger,c=(0,d.pouchEffectsLedger)(e,(0,n.Map)({artifact:.2})).map((e,t)=>void 0!==s.get(t)?e+e*s.get(t):e),h=r.length>0?(0,d.pouchEffectsLedger)(r,(0,n.Map)({artifact:-.2})).map((e,t)=>void 0!==s.get(t)?e+e*s.get(t):e):(0,n.Map)(),u=(0,d.add)(this.state.ledger,c,h),m=u.remove("mission").remove("artifactBonus").remove("statBonus"),g=this.state.boostLedger,f=e.filter(e=>void 0!==e.effect().get("mission")&&"artifact"===e.type).map(e=>({type:e.type,effect:()=>(0,n.Map)(e.effect().get("mission"))}));f.length>0&&(g=(0,d.add)(g,(0,d.pouchEffectsLedger)(f,(0,n.Map)({artifact:1}))));let p=r.filter(e=>void 0!==e.effect().get("mission")&&"artifact"===e.type).map(e=>({type:e.type,effect:()=>(0,n.Map)(e.effect().get("mission"))}));p.length>0&&(g=(0,d.add)(g,(0,d.pouchEffectsLedger)(p,(0,n.Map)({artifact:-1}))));let y=this.state.relic;t||e[0].type!==et||void 0!==y.type||(y=e[0]);let x=r.length>0?this.state.inventory.filter(e=>!r.some(t=>t.id===e.id)):this.state.inventory;return this.setState({wallet:o,relic:y,artifactStats:a,ledger:m,boostLedger:g,inventory:[...x,...e],boxes:l}),!0}buyStat(e,t,r){let o=null!==(a=this.state.stats.get(t+"-"+e))&&void 0!==a?a:0,l=o+1;var a,s=r*(l+l+r-1)/2;let c={type:"stat",cost:()=>(0,n.Map)({[t]:-s}),effect:()=>e!==K.id?(0,n.Map)({[e]:r,[t+"-"+e]:r}):(0,n.Map)({[e]:.1*r,[t+"-"+e]:r})},h=(0,d.buy)(c,this.state.wallet);if(!(0,d.inTheBlack)(h))return!1;let u=(0,d.pouchEffectsLedger)([c],(0,n.Map)({stat:1})),m=(0,d.add)(this.state.stats,u);return this.setState({stats:m,wallet:h}),!0}buyEnhancement(e,t){let r=(0,d.buy)({type:"element",cost:()=>t},this.state.wallet);if(!(0,d.inTheBlack)(r))return!1;let o=this.state.info.update(e,e=>(null!=e?e:0)+1);this.setState({info:o,wallet:r})}buyElement(e){let t=(0,d.buy)({type:"element",cost:()=>e},this.state.wallet);if(!(0,d.inTheBlack)(t))return!1;this.setState({wallet:t})}selectRelic(e){e.type===et&&this.setState({relic:e})}upgradeRelic(e,t,r){let o=(0,d.buy)({cost:()=>t},this.state.wallet);if(!(0,d.inTheBlack)(o))return!1;let l=this.state.inventory.filter(e=>e.id!=this.state.relic.id&&e.id!=r);var a=this.state.info;null!=r&&(a=a.set("lastMergedId",r)),this.setState({wallet:o,relic:e,inventory:[...l,e],info:a})}showPrestige(e){e>=20&&this.setState({prestigeModal:!this.state.prestigeModal})}prestigeConfirmed(){let e=void 0!==this.state.relic.type?this.state.relic:{},t=Number(null!==(r=e.exp)&&void 0!==r?r:0)*this.state.wallet.get(h.experience.id)/100;var r,o,l,a,s,c=get_level_info(this.state.wallet.get(h.experience.id)).level;let u=void 0!==e.type?[e]:[],m=(null!==(o=this.state.wallet.get(h.soul.id))&&void 0!==o?o:0)+Number(Number(c*(1+.05*Number(null!==(l=this.state.info.get("soulBonus"))&&void 0!==l?l:0))*(1+Number(null!==(a=this.state.artifactBonusLedger.get(h.soul.id))&&void 0!==a?a:0))).toFixed(2)),g=(0,n.Map)();void 0!=e.effect&&void 0!==e.effect().get("mission")&&(g=(0,d.pouchEffectsLedger)([{type:"relic",effect:()=>(0,n.Map)(e.effect().get("mission"))}],(0,n.Map)({relic:1})));let f=(0,n.Map)();h.currencies.forEach(e=>{var t,r;Number(null!==(t=this.state.info.get(e.id+"bst"))&&void 0!==t?t:0)>0&&(f=f.set(e.id,.03*Number(null!==(r=this.state.info.get(e.id+"bst"))&&void 0!==r?r:0)))});let p=(0,n.Map)();void 0!=e.effect&&void 0!==e.effect().get("artifactBonus")&&(p=(0,d.pouchEffectsLedger)([{type:"relic",effect:()=>(0,n.Map)(e.effect().get("artifactBonus"))}],(0,n.Map)({relic:1}))),p=(0,d.add)(p,f);let y=(0,n.Map)();void 0!=e.effect&&void 0!==e.effect().get("statBonus")&&(y=(0,d.pouchEffectsLedger)([{type:"relic",effect:()=>(0,n.Map)(e.effect().get("statBonus"))}],(0,n.Map)({relic:1})));let x=(0,d.pouchEffectsLedger)([e],(0,n.Map)({relic:.2})).map((e,t)=>void 0!==p.get(t)?e+e*p.get(t):e),b=x.remove("mission").remove("artifactBonus").remove("statBonus"),v=this.state.relic.statEffect;this.setState({info:this.state.info.set("maxLevel",Math.max(Number(null!==(s=this.state.info.get("maxLevel"))&&void 0!==s?s:0),c)),wallet:(0,n.Map)({[h.experience.id]:t,[h.soul.id]:m}),ledger:b,artifactStats:(0,n.Map)(),missionStats:(0,n.Map)(),relicStats:v,boostLedger:g,artifactBonusLedger:p,statBonusLedger:y,skills:(0,n.Map)(),boxes:(0,n.Map)(),inventory:u,shop:[],relic:e,activeRelic:{...e},prestigeModal:!this.state.prestigeModal})}changeStage(e){e>=0&&this.setState({info:this.state.info.set("stage",e)})}killEnemy(e,t){var r,o;let l,a;let s=randomIntFromInterval(1,100);if(s>90){let e=s-90;for(let r=0;r<t.length;r++){let[o,a]=t[r];e<=a&&e>0&&(l=o.id),e-=a}a=1}else s>70?(l=h.elements[randomIntFromInterval(0,3)].id,a=e.get("element")):s>40?(l=h.experience.id,a=e.get(h.experience.id)):(l=h.gold.id,a=e.get(h.gold.id));randomIntFromInterval(1,100)<=2*Number(null!==(r=this.state.info.get("doubleC"))&&void 0!==r?r:0)&&(a*=2);let c=this.state.info.update("stage"+(null!==(o=this.state.info.get("stage"))&&void 0!==o?o:0),e=>(null!=e?e:0)+1),u=(0,d.pouchEffectsLedger)([{type:"enemy",cost:()=>{},effect:()=>(0,n.Map)({[l]:a})}],(0,n.Map)({enemy:1})),m=this.state.wallet,g=this.state.boxes;u.keySeq().some(e=>W.some(t=>t.id==e))?g=(0,d.add)(g,u):m=(0,d.add)(m,u),this.setState({info:c,wallet:m,boxes:g})}render(){var e,t,r,o,l,s,n,d,c,u,m,g,f,p,j,w,S,k,B=get_level_info(this.state.wallet.get(h.experience.id)),F=null,N=Number(Number(100*B.current_exp)/Number(B.next_level_exp)).toFixed(0);this.state.loading||this.state.messagesShown.get(""+B.level)||void 0==ex[""+B.level]||(F=(0,a.jsx)(ConfirmModal,{title:1==B.level?"Welcome":"Level up",children:(0,a.jsx)(MessageWrapper,{height:"300px",mkey:""+B.level}),onClose:()=>{let e=this.state.messagesShown.set(""+B.level,!0);this.setState({messagesShown:e})}}));let C=B.level<2?h.startCurrencies:this.state.info.get("maxLevel")>=20?h.allCurrencies:h.currencies;return(0,a.jsxs)("div",{style:{margin:"10px"},children:[F,this.state.prestigeModal&&(0,a.jsx)(PrestigeModal,{activeRelic:this.state.activeRelic,relic:this.state.relic,ledger:this.state.ledger,skills:this.state.skills,relicStats:this.state.relicStats,artifactBonusLedger:this.state.artifactBonusLedger,statBonusLedger:this.state.statBonusLedger,soulBoosts:this.state.info,artifactStats:this.state.artifactStats,missionStats:this.state.missionStats,boostLedger:this.state.boostLedger,onConfirm:this.prestigeConfirmed,onClose:()=>this.showPrestige(B.level),boxesState:this.state.boxes,level:B.level}),(0,a.jsx)("table",{style:{width:"100%",tableLayout:"fixed"},children:(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[C.map(e=>(0,a.jsxs)("th",{style:{minWidth:88/C.length+"%",width:88/C.length+"%",whiteSpace:"nowrap",color:"white",overflow:"hidden",textOverflow:"ellipsis",position:"relative"},children:[(0,a.jsxs)("h3",{children:[e.icon,Number(this.state.wallet.get(e.id)||0)>=1e4?Number(this.state.wallet.get(e.id)||0).toExponential(2):Number(this.state.wallet.get(e.id)||0).toFixed(2)]}),0!=this.state.ledger.get(e.id)&&this.state.ledger.get(e.id)&&(0,a.jsxs)("a",{style:{color:this.state.ledger.get(e.id)>0?"green":"red",marginLeft:"50px",position:"absolute",top:"50%",transform:"translateY(50%)"},children:[Number(5*this.state.ledger.get(e.id)||0).toFixed(3)," ",e.icon," /s "]},e.id)]},e.id)),void 0!==B.current_exp&&(0,a.jsx)("th",{children:(0,a.jsx)("div",{onClick:()=>this.showPrestige(B.level),style:{width:150,height:150,marginTop:5,marginBottom:5},children:(0,a.jsxs)(v.Wo,{value:N,background:!0,backgroundPadding:6,circleRatio:.75,styles:(0,v.y3)({rotation:.5+1/8,strokeLinecap:"butt",backgroundColor:"#3e98c7",textColor:"#fff",pathColor:"#fff",trailColor:"gray"}),children:[(0,a.jsx)("div",{style:{fontSize:12,marginTop:-5},children:(0,a.jsxs)("strong",{children:["Level ",B.level]})}),(0,a.jsxs)("div",{style:{fontSize:12,marginTop:-5},children:[B.current_exp>=1e4?Number(B.current_exp).toExponential(2):B.current_exp," / ",B.next_level_exp>=1e4?Number(B.next_level_exp).toExponential(2):B.next_level_exp," ⭐"]}),B.level>=18&&(0,a.jsx)("div",{style:{fontSize:12,marginTop:-5,fontWeight:"bold"},children:B.level<20?"\uD83D\uDD12 Level 20 \uD83D\uDD12":"Reincarnate"})]})})})]})})}),(0,a.jsx)("div",{style:{paddingTop:"10px"},children:(0,a.jsxs)(y.Z,{defaultActiveKey:"Training",className:"mb-3",children:[(0,a.jsx)(x.Z,{eventKey:"Training",title:"Training",children:(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"column",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{style:{color:"white",fontWeight:"bold"},children:" Actions "}),(0,a.jsx)(b,{missions:this.missions,level:B.level,boostLedger:this.state.boostLedger})]})}),B.level>=10||this.state.info.get("maxLevel")>=10?(0,a.jsxs)("div",{className:"column",children:[(0,a.jsx)(el,{items:this.state.shop,buy:this.buyItem,updateShop:this.updateShop,level:B.level,artifactBonusLedger:this.state.artifactBonusLedger,shopcd:null!==(e=this.state.info.get("shopcd"))&&void 0!==e?e:0,aluck:null!==(t=this.state.info.get("shopal"))&&void 0!==t?t:0,rluck:null!==(r=this.state.info.get("shoprl"))&&void 0!==r?r:0,aBStatsMult:null!==(o=this.state.info.get("aBStatsMult"))&&void 0!==o?o:0,maxlevel:null!==(l=this.state.info.get("maxLevel"))&&void 0!==l?l:0}),(0,a.jsx)(eo,{items:this.state.inventory,ledger:this.state.ledger,boxesState:this.state.boxes,openBox:this.buyItem,artifactBonusLedger:this.state.artifactBonusLedger,maxlevel:null!==(s=this.state.info.get("maxLevel"))&&void 0!==s?s:0,boostLedger:this.state.boostLedger,selectRelic:this.selectRelic,relic:this.state.relic,level:B.level,aBStatsMult:null!==(n=this.state.info.get("aBStatsMult"))&&void 0!==n?n:0})]}):(0,a.jsx)("div",{className:"column",children:(0,a.jsx)("p",{style:{padding:"10px",color:"white",background:"#494949",fontWeight:"bold"},children:" \uD83D\uDD12 Reach level 10 to unlock \uD83D\uDD12"})})]})}),(B.level>=15||this.state.info.get("maxLevel")>=20)&&(0,a.jsx)(x.Z,{eventKey:"Workshop",title:B.level>=20||this.state.info.get("maxLevel")>=20?this.state.info.get("maxLevel")>=20?"Workshop":"\uD83D\uDD12 Reincarnate to unlock \uD83D\uDD12":"\uD83D\uDD12 Reach level 20 to unlock \uD83D\uDD12",disabled:void 0===this.state.info.get("maxLevel"),children:(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"column",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{style:{color:"white",fontWeight:"bold"},children:" Upgrade "}),(0,a.jsx)(eg,{relic:this.state.relic,upgradeRelic:this.upgradeRelic,maxlevel:Math.max(Number(null!==(d=this.state.info.get("maxLevel"))&&void 0!==d?d:0),B.level)})]})}),(0,a.jsx)("div",{className:"column",children:(0,a.jsx)("div",{children:(0,a.jsx)(em,{relic:this.state.relic,upgradeRelic:this.upgradeRelic,items:this.state.inventory,buyElement:this.buyElement,info:this.state.info,level:B.level,buyEnhancement:this.buyEnhancement,maxlevel:Math.max(Number(null!==(c=this.state.info.get("maxLevel"))&&void 0!==c?c:0),B.level),buy:this.buyItem,mergebst:null!==(u=this.state.info.get("mergebst"))&&void 0!==u?u:0,aBStatsMult:null!==(m=this.state.info.get("aBStatsMult"))&&void 0!==m?m:0,lastMergedId:this.state.info.get("lastMergedId")})})})]})}),(B.level>=25||this.state.info.get("maxLevel")>=30)&&(0,a.jsx)(x.Z,{eventKey:"Battle",title:Math.max(Number(null!==(g=this.state.info.get("maxLevel"))&&void 0!==g?g:0),B.level)>=30?"Battle":"\uD83D\uDD12 Reach level 30 to unlock \uD83D\uDD12",disabled:30>Math.max(Number(null!==(f=this.state.info.get("maxLevel"))&&void 0!==f?f:0),B.level),children:(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"column",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{style:{color:"white",fontWeight:"bold"},children:" Stats "}),(0,a.jsx)(J,{stats:this.state.stats,buyStat:this.buyStat,artifactStats:this.state.artifactStats,relicStats:this.state.relicStats,missionStats:this.state.missionStats,skills:this.state.skills,statBonusLedger:this.state.statBonusLedger})]})}),(0,a.jsx)("div",{className:"column",children:(0,a.jsx)(U,{stats:this.state.stats,artifactStats:this.state.artifactStats,relicStats:this.state.relicStats,missionStats:this.state.missionStats,stage:null!==(p=this.state.info.get("stage"))&&void 0!==p?p:0,stageKills:null!==(w=this.state.info.get("stage"+(null!==(j=this.state.info.get("stage"))&&void 0!==j?j:0)))&&void 0!==w?w:0,skills:this.state.skills,changeStage:this.changeStage,killEnemy:this.killEnemy,onClickSetSkills:this.onClickSetSkills,maxlevel:Math.max(Number(null!==(S=this.state.info.get("maxLevel"))&&void 0!==S?S:0),B.level),statBonusLedger:this.state.statBonusLedger})})]})}),(0,a.jsx)(x.Z,{eventKey:"Story",title:"Story",children:(0,a.jsx)("div",{children:(0,a.jsx)(Story,{level:Math.max(Number(null!==(k=this.state.info.get("maxLevel"))&&void 0!==k?k:0),B.level)})})}),(0,a.jsx)(x.Z,{eventKey:"Save",title:"Save",children:(0,a.jsx)("div",{children:(0,a.jsx)(MyComponent,{saveState:this.state,setSaveState:e=>this.setState(e)})})})]})})]})}constructor(e){super(e),this.state={wallet:new n.Map,ledger:new n.Map,boostLedger:new n.Map,artifactBonusLedger:new n.Map,statBonusLedger:new n.Map,stats:new n.Map,artifactStats:new n.Map,relicStats:new n.Map,missionStats:new n.Map,inventory:[],shop:[],relic:{},activeRelic:{},messagesShown:new n.Map,info:new n.Map,boxes:new n.Map,skills:new n.Map,prestigeModal:!1,loading:!0},this.showPrestige=this.showPrestige.bind(this),this.prestigeConfirmed=this.prestigeConfirmed.bind(this),this.buyItem=this.buyItem.bind(this),this.updateShop=this.updateShop.bind(this),this.selectRelic=this.selectRelic.bind(this),this.upgradeRelic=this.upgradeRelic.bind(this),this.changeStage=this.changeStage.bind(this),this.killEnemy=this.killEnemy.bind(this),this.onClickSetSkills=this.onClickSetSkills.bind(this),this.buyStat=this.buyStat.bind(this),this.buyElement=this.buyElement.bind(this),this.buyEnhancement=this.buyEnhancement.bind(this),this.update=this.update.bind(this),this.save=this.save.bind(this),this.load=this.load.bind(this),this.missions=c.missions.map(e=>(e.start=e.start.bind(this),e.reward=e.reward.bind(this),e))}};var pages=()=>(0,a.jsx)(App,{})},2480:function(){}},function(e){e.O(0,[67,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);